window.uplus={};window.uplus.pinchZoom=function(n,t){var r=document.getElementById(n),i=new Hammer.Manager(r),u=new Hammer.Pinch,f=new Hammer.Pan;u.recognizeWith(f);i.add([u,f]);i._adjustScale=1;i._adjustDeltaX=0;i._adjustDeltaY=0;i._currentScale=null;i._currentDeltaX=null;i._currentDeltaY=null;i._reset=function(){this._adjustScale=1;this._adjustDeltaX=0;this._adjustDeltaY=0;this._currentScale=null;this._currentDeltaX=null;this._currentDeltaY=null;r.style.transform=null;r.style.WebkitTransform=null};i.on("pinch pan",function(n){var u=[];i._currentScale=i._adjustScale*n.scale;i._currentScale<1&&(i._currentScale=1);i._currentScale!=1||t?(i._currentDeltaX=i._adjustDeltaX+n.deltaX/i._currentScale,i._currentDeltaY=i._adjustDeltaY+n.deltaY/i._currentScale):(i._currentDeltaX=0,i._currentDeltaY=0);u.push("scale("+i._currentScale+")");u.push("translate("+i._currentDeltaX+"px,"+i._currentDeltaY+"px)");r.style.transform=u.join(" ");r.style.WebkitTransform=r.style.transform});i.on("panend pinchend",function(){i._adjustScale=i._currentScale;i._adjustDeltaX=i._currentDeltaX;i._adjustDeltaY=i._currentDeltaY});return i};window.uplus.boot=function(n){if(angular.bootstrap(document,n),navigator.userAgent.match(/IEMobile\/10\.0/)){var t=document.createElement("style");t.appendChild(document.createTextNode("@-ms-viewport{width:auto!important}"));document.getElementsByTagName("head")[0].appendChild(t)}};window.uplus.expandUrl=function(n){return n.substring(0,4)=="http"?n:window.uplus.baseUrl+n};window.uplus.showLoading=function(n){n.$broadcast("loading-started");n.loadingCount?n.loadingCount++:n.loadingCount=1};window.uplus.hideLoading=function(n){n.loadingCount--;n.loadingCount===0&&n.$broadcast("loading-complete")};window.uplus.isPhoneGap=function(){return window.cordova?!0:!1};window.uplus.isSuccess=function(n){return n>0&&n<300};window.uplus.getDates=function(n,t){var f=[],r,u;for(i=0;i<n;i++)r=Date.today().add(i*-1).days(),u=r.toString("dd-MM-yyyy"),f.push({id:u,name:u+" - "+t.lang.DAYS[r.getDay()]});return f};window.uplus.getDatesOnly=function(n){var r=[],u,t;for(i=0;i<n;i++)u=Date.today().add(i*-1).days(),t=u.toString("dd-MM-yyyy"),r.push({id:t,name:t});return r};window.uplus.getShortDates=function(n){var t=[];for(i=0;i<n;i++){var r=Date.today().add(i*-1).days(),u=r.toString("yyyyMMdd"),f=r.toString("dd/MM");t.push({id:u,name:f})}return t};window.uplus.getMonths=function(n){var t=[];for(i=0;i<n;i++){var r=Date.today().moveToFirstDayOfMonth().addMonths(i*-1).days(),u=r.toString("yyyyMMdd"),f=r.toString("MM/yyyy");t.push({id:u,name:f})}return t};window.uplus.getRandomInt=function(n,t){return Math.floor(Math.random()*(t-n+1))+n};window.uplus.getSmsConfig=function(){return{replaceLineBreaks:!1,android:{intent:""}}};window.uplus.phoneGapInit=function(n){window.uplus.isPhoneGap()?document.addEventListener("deviceready",function(){window.uplus.baseUrl="https://www.eloadclub.com";FastClick.attach(document.body);window.uplus.boot(n)}):(window.uplus.baseUrl="",FastClick.attach(document.body),window.uplus.boot(n))};window.uplus.start=function(n){angular.element(document).ready(function(){new window.uplus.phoneGapInit(n)})},function(n){var a="Unknown",v="",w,s,e,c,b,l,f;screen.width&&(width=screen.width?screen.width:"",height=screen.height?screen.height:"",v+=""+width+" x "+height);var y=navigator.appVersion,t=navigator.userAgent,u=navigator.appName,i=""+parseFloat(navigator.appVersion),h=parseInt(navigator.appVersion,10),p,r,o;(r=t.indexOf("Opera"))!=-1?(u="Opera",i=t.substring(r+6),(r=t.indexOf("Version"))!=-1&&(i=t.substring(r+8))):(r=t.indexOf("MSIE"))!=-1?(u="Microsoft Internet Explorer",i=t.substring(r+5)):u=="Netscape"&&t.indexOf("Trident/")!=-1?(u="Microsoft Internet Explorer",i=t.substring(r+5),(r=t.indexOf("rv:"))!=-1&&(i=t.substring(r+3))):(r=t.indexOf("Chrome"))!=-1?(u="Chrome",i=t.substring(r+7)):(r=t.indexOf("Safari"))!=-1?(u="Safari",i=t.substring(r+7),(r=t.indexOf("Version"))!=-1&&(i=t.substring(r+8)),t.indexOf("CriOS")!=-1&&(u="Chrome")):(r=t.indexOf("Firefox"))!=-1?(u="Firefox",i=t.substring(r+8)):(p=t.lastIndexOf(" ")+1)<(r=t.lastIndexOf("/"))&&(u=t.substring(p,r),i=t.substring(r+1),u.toLowerCase()==u.toUpperCase()&&(u=navigator.appName));(o=i.indexOf(";"))!=-1&&(i=i.substring(0,o));(o=i.indexOf(" "))!=-1&&(i=i.substring(0,o));(o=i.indexOf(")"))!=-1&&(i=i.substring(0,o));h=parseInt(""+i,10);isNaN(h)&&(i=""+parseFloat(navigator.appVersion),h=parseInt(navigator.appVersion,10));w=/Mobile|mini|Fennec|Android|iP(ad|od|hone)/.test(y);s=navigator.cookieEnabled?!0:!1;typeof navigator.cookieEnabled!="undefined"||s||(document.cookie="testcookie",s=document.cookie.indexOf("testcookie")!=-1?!0:!1);e=a;c=[{s:"Windows 3.11",r:/Win16/},{s:"Windows 95",r:/(Windows 95|Win95|Windows_95)/},{s:"Windows ME",r:/(Win 9x 4.90|Windows ME)/},{s:"Windows 98",r:/(Windows 98|Win98)/},{s:"Windows CE",r:/Windows CE/},{s:"Windows 2000",r:/(Windows NT 5.0|Windows 2000)/},{s:"Windows XP",r:/(Windows NT 5.1|Windows XP)/},{s:"Windows Server 2003",r:/Windows NT 5.2/},{s:"Windows Vista",r:/Windows NT 6.0/},{s:"Windows 7",r:/(Windows 7|Windows NT 6.1)/},{s:"Windows 8.1",r:/(Windows 8.1|Windows NT 6.3)/},{s:"Windows 8",r:/(Windows 8|Windows NT 6.2)/},{s:"Windows 10",r:/(Windows NT 10)/},{s:"Windows NT 4.0",r:/(Windows NT 4.0|WinNT4.0|WinNT|Windows NT)/},{s:"Windows ME",r:/Windows ME/},{s:"Android",r:/Android/},{s:"Open BSD",r:/OpenBSD/},{s:"Sun OS",r:/SunOS/},{s:"Linux",r:/(Linux|X11)/},{s:"iOS",r:/(iPhone|iPad|iPod)/},{s:"Mac OS X",r:/Mac OS X/},{s:"Mac OS",r:/(MacPPC|MacIntel|Mac_PowerPC|Macintosh)/},{s:"QNX",r:/QNX/},{s:"UNIX",r:/UNIX/},{s:"BeOS",r:/BeOS/},{s:"OS/2",r:/OS\/2/},{s:"Search Bot",r:/(nuhk|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask Jeeves\/Teoma|ia_archiver)/}];for(b in c)if(l=c[b],l.r.test(t)){e=l.s;break}f=a;/Windows/.test(e)&&(f=/Windows (.*)/.exec(e)[1],e="Windows");switch(e){case"Mac OS X":f=/Mac OS X (10[\.\_\d]+)/.exec(t)[1];break;case"Android":f=/Android ([\.\_\d]+)/.exec(t)[1];break;case"iOS":f=/OS (\d+)_(\d+)_?(\d+)?/.exec(y);f=f[1]+"."+f[2]+"."+(f[3]|0)}n.browserInfo={screen:v,browser:u,browserVersion:i,mobile:w,os:e,osVersion:f,cookies:s}}(this);window.app=angular.module("FlexiApp",["ngRoute","flexiAppControllers","ui.mask","uplus","angular-cache","slip"]);window.flexiAppControllers=angular.module("flexiAppControllers",[]);app.config(["$routeProvider","$compileProvider",function(n,t){t.aHrefSanitizationWhitelist(/^\s*(https?|ftp|tel|mailto|file|ghttps?|ms-appx|x-wmapp0|market):/);t.imgSrcSanitizationWhitelist(/^\s*(https?|ftp|file|ms-appx|x-wmapp0):|data:image\//);n.when("/login",{templateUrl:"flexi/login.html",controller:"LoginCtrl"}).when("/forgot-password",{templateUrl:"flexi/forgotPassword.html",controller:"ForgotPasswordCtrl"}).when("/change-password",{templateUrl:"flexi/changePassword.html",controller:"ChangePasswordCtrl"}).when("/printer",{templateUrl:"flexi/printer.html",controller:"PrinterCtrl"}).when("/language",{templateUrl:"flexi/language.html",controller:"LanguageCtrl"}).when("/notification",{templateUrl:"flexi/notification.html",controller:"NotificationCtrl"}).when("/privacy-policy",{templateUrl:"flexi/privacy.html",controller:"PrivacyCtrl"}).when("/toc",{templateUrl:"flexi/toc.html",controller:"TocCtrl"}).when("/iap",{templateUrl:"flexi/iap.html",controller:"IapCtrl"}).when("/news",{templateUrl:"flexi/news.html",controller:"NewsCtrl"}).when("/edit-news/:id",{templateUrl:"flexi/editNews.html",controller:"EditNewsCtrl"}).when("/new-news",{templateUrl:"flexi/editNews.html",controller:"NewNewsCtrl"}).when("/error-log",{templateUrl:"flexi/errorLog.html",controller:"ErrorLogCtrl"}).when("/modem",{templateUrl:"flexi/modem.html",controller:"ModemCtrl"}).when("/edit-modem/:id",{templateUrl:"flexi/editModem.html",controller:"EditModemCtrl"}).when("/new-modem",{templateUrl:"flexi/editModem.html",controller:"NewModemCtrl"}).when("/chats",{templateUrl:"flexi/chats.html",controller:"ChatsCtrl"}).when("/chat/:id",{templateUrl:"flexi/chat.html",controller:"ChatCtrl"}).when("/helpline",{templateUrl:"flexi/helpline.html",controller:"HelplineCtrl"}).when("/announcement",{templateUrl:"flexi/announcement.html",controller:"AnnouncementCtrl"}).when("/top-up",{templateUrl:"flexi/topUp.html",controller:"TopUpCtrl"}).when("/status",{templateUrl:"flexi/status.html",controller:"StatusCtrl"}).when("/kiosk",{templateUrl:"flexi/kiosk.html",controller:"KioskCtrl"}).when("/process-orders",{templateUrl:"flexi/processOrder.html",controller:"ProcessOrderCtrl"}).when("/helpline",{templateUrl:"flexi/helpline.html",controller:"HelplineCtrl"}).when("/sms-top-up",{templateUrl:"flexi/topUp.html",controller:"SmsTopUpCtrl"}).when("/sms-checking",{templateUrl:"flexi/smsChecking.html",controller:"SmsCheckingCtrl"}).when("/sms-transfer",{templateUrl:"flexi/smsTransfer.html",controller:"SmsTransferCtrl"}).when("/purchase-history",{templateUrl:"flexi/purchaseHistory.html",controller:"PurchaseHistoryCtrl"}).when("/profile",{templateUrl:"flexi/profile.html",controller:"ProfileCtrl"}).when("/user",{templateUrl:"flexi/user.html",controller:"UserCtrl"}).when("/edit-user/:id",{templateUrl:"flexi/editUser.html",controller:"EditUserCtrl"}).when("/new-user",{templateUrl:"flexi/editUser.html",controller:"NewUserCtrl"}).when("/purchase-airtime",{templateUrl:"flexi/purchaseAirtime.html",controller:"PurchaseAirtimeCtrl"}).when("/topup-summary",{templateUrl:"flexi/topUpSummary.html",controller:"TopUpSummaryCtrl"}).when("/weekly-trend",{templateUrl:"flexi/weeklyTrend.html",controller:"WeeklyTrendCtrl"}).when("/bonus-trend",{templateUrl:"flexi/bonusTrend.html",controller:"BonusTrendCtrl"}).when("/balance-history",{templateUrl:"flexi/balanceHistory.html",controller:"BalanceHistoryCtrl"}).when("/export-invoice",{templateUrl:"flexi/exportInvoice.html",controller:"ExportInvoiceCtrl"}).when("/transfer-order",{templateUrl:"flexi/transferOrder.html",controller:"TransferOrderCtrl"}).when("/transfer-history",{templateUrl:"flexi/transferHistory.html",controller:"TransferHistoryCtrl"}).when("/transfer-airtime/:id",{templateUrl:"flexi/transferAirtime.html",controller:"TransferAirtimeCtrl"}).when("/transfer-airtime",{templateUrl:"flexi/transferAirtime.html",controller:"TransferAirtimeCtrl"}).when("/member",{templateUrl:"flexi/member.html",controller:"MemberCtrl"}).when("/new-member",{templateUrl:"flexi/newMember.html",controller:"NewMemberCtrl"}).when("/edit-member/:id",{templateUrl:"flexi/editMember.html",controller:"EditMemberCtrl"}).when("/rebate-plan",{templateUrl:"flexi/rebatePlan.html",controller:"RebatePlanCtrl"}).when("/edit-rebate-plan/:id",{templateUrl:"flexi/editRebatePlan.html",controller:"EditRebatePlanCtrl"}).when("/member-weekly-trend",{templateUrl:"flexi/memberWeeklyTrend.html",controller:"MemberWeeklyTrendCtrl"}).when("/member-topup-summary",{templateUrl:"flexi/memberTopUpSummary.html",controller:"MemberTopupSummaryCtrl"}).when("/member-status",{templateUrl:"flexi/memberStatus.html",controller:"MemberStatusCtrl"}).when("/member-growth",{templateUrl:"flexi/memberGrowth.html",controller:"MemberGrowthCtrl"}).when("/tender-numbers",{templateUrl:"flexi/tenderNumbers.html",controller:"TenderNumbersCtrl"}).when("/how-it-works",{templateUrl:"flexi/how-it-works.html",controller:"HowItWorksCtrl"}).when("/booking/:id",{templateUrl:"flexi/tender-booking.html",controller:"BookingCtrl"}).when("/tender-orders",{templateUrl:"flexi/tender-orders.html",controller:"TenderOrdersCtrl"}).when("/tender-order/:id",{templateUrl:"flexi/tender-order.html",controller:"TenderOrderCtrl"}).when("/tender-cancel/:id",{templateUrl:"flexi/tender-cancel.html",controller:"TenderCancelCtrl"}).when("/tender-info/:id",{templateUrl:"flexi/tender-info.html",controller:"TenderInfoCtrl"}).otherwise({redirectTo:"/login"})}]);window.uplus.start(["FlexiApp"]);window.uplus.EN={ERROR500:"Your request generated an internal error. Please try again.",ERROR403:"You don't have the permission to access the requested resources.",ERROR404:"The resource you were trying to view does not exist.",ERROR408:"The request has timed out. Please try again.",SIGN_IN:"Login",FORGOT_PASSWORD:"Forgot Password",PASSWORD:"Password",REQUIRED:"Required.",SUBMIT:"Submit",SIGN_OUT:"Logout",FORGOT_PASSWORD_PHONE2:"Please enter your account phone number.",FORGOT_PASSWORD_PHONE1:"A password reset will deduct RM0.50 from your account balance.",FORGOT_PASSWORD_CODE1:"You should be receiving a SMS from us shortly with security code.",SECURITY_CODE:"Please enter the security code",FORGOT_PASSWORD_RESET1:"Please choose a new password for your account.",RESET_PASSWORD:"New Password",CONFIRM_PASSWORD:"Confirm Password",PASSWORD_DONT_MATCH:"Passwords don't match.",FORGOT_PASSWORD_DONE1:"You have successfully reset your password.",LOGIN_NOW:"Login Now",CURRENT_PASSWORD:"Your Current Password",PASSWORD_CHANGED:"Password changed successfully.",PRINT:"Print",PHONEGAP_ONLY:"This feature is available to Android app version only.",BLUETOOTH_DISABLED:"Bluetooth is not enabled.",PRINTER_ERROR:"Printer Error: ",CONNECT_TO_PRINTER_ERROR:"Printer Connection Error: ",NO_PRINTER:"No Bluetooth Devices. Please pair a Bluetooth Device.",FIND_PRINTER:"Find Bluetooth Printers",COMPANY:"Company",PHONE:"Phone",ADDRESS:"Address",FOOTER:"Footer",ON:"On",OFF:"Off",NEWS:"News",BALANCE_INCREASED:"Account balance has increased (Account owner only)",FAILED_ORDER:"Top Up status is updated",TRANSFER_REQEUST:"Members request for Airtime transfer",NEW:"New",EDIT:"Edit",STATUS:"Status",ACTIVE:"Active",SUBJECT:"Subject",MEMO:"Memo",ENGLISH:"English",MALAY:"Malay",CHINESE:"Chinese",DELETE:"Delete",CREATED_BY:"Created By",CREATED_ON:"Created On",LAST_EDITED_BY:"Modified By",LAST_MODIFIED:"Modified On",REFRESH:"Refresh",CONFIRM_DELETE:"Are you sure you want to delete?",ERROR_LOG:"Error Log",ITEM_SELECTED:" item(s) selected. ",SELECT_ALL:"Select All",MORE:"More",MODEM:"Modem",MANAGEMENT:"Management",PRODUCT:"Product",NAME:"Name",USER_ID:"User ID",WEB_PASSWORD:"Web Password",SMS_PIN:"SMS PIN",URL:"URL",MODE:"Mode",PORT:"Port",BALANCE:"Balance",INVALID_URL:"Invalid URL.",LAST_UPDATED:"Last Updated",TOP_UP:"Top Up",BROADCAST:"Broadcast",CONFIRM_BROADCAST:"Are you sure you want to broadcast the message?",GCM_FAILED:"Your device is not registered with Push Notification. Please restart this app before continue.",SAVED:"Saved",USER:"User",SEARCH:"Search",LAST_LOGIN:"Last Login On",CAN_VIEW_ALL_TOPUP:"Can View Top Up of Other Users",CAN_MANAGE_ACCOUNT:"Can Manage My Account",CAN_MANAGE_DEALER:"Can Manage Members",MY_ACCOUNT:"My Account",PROFILE:"Profile",PURCHASE_AIRTIME:"Purchase Airtime",PURCHASE_HISTORY:"Purchase History",NOTHING_TO_DISPLAY:"Nothing to display.",REBATE:"Rebate",BANK:"Bank",ACCOUNT_NO:"Account No",ACCOUNT_NAME:"Account Name",CHANNEL:"Channel",DEALERS:"Members",DEALER:"Member",NEW_DEALER:"New Member",TRANSFER:"Transfer Airtime",TRANSFER_ORDER:"Transfer Order",SELECT_PRODUCT:"Product",ENTER_AMOUNT:"Top Up Amount",ENTER_PHONE:"Enter Phone Number",ENTER_ACCOUNT_NO:"Enter Account Number",CONFIRM:"Confirm",TO_PAY:"To Pay",RESET:"Reset",SENDING:"Sending ...",START_PAGE:"Start Page",PREVIOUS_DAY:"Previous Day",NEXT_DAY:"Next Day",FIND:"Find",COPY:"Copy",COPIED:"Copied",Pending:"Pending",Success:"Success",Failed:"Failed",BAUD_RATE:"Baud Rate",SETTINGS:"Settings",CHANGE_PASSWORD:"Change Password",PRINTER:"Bluetooth Printer",PRINTER_ONLY:"Printer",LANGUAGE:"Language",NOTIFICATION:"Notification",SEND_SMS:"Send SMS",CHECK_BALANCE:"Account Balance",CHECK_STATUS:"Top Up Status",SMS_SENT:"Message sent successfully",SEND_SMS_TO:"Send SMS requests to:",AVAILABLE_PHONES:"Available destination phone numbers:",CHECKING:"Checking",SMS_MODE:"SMS Mode",DAYS:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],LET_DOWNLINE_BANK_TO:"When members request for airtime transfer, let them deposit to:",PHOTO:"No Photo",BANK_IN_OPTIONS:"Options",AMOUNT:"Amount",TAKE_PHOTO:"Take Photo",RANGE_ERROR:"Accept only 1 - 999999",ORDER:"Purchase",Transfer:"Transferred:",Reset_Password:"Reset Password:",Recruit_Member:"Recruit Member:",NOTIFICATION_NOTE:"Send notifications to me when:",USER_ID_NOTE:"User ID is the mobile phone number of the user.",ANNOUNCEMENT:"Announcement",PRINTER_PAGE_TITLE:"Setup a Bluetooth mobile printer to print top up receipts.",CONFIRM_TRANSFER:"Do you want to transfer airtime to this member?",COLLECT_MEMBERSHIP_FEE:"We deduct RM 25 from your account on recruiting a new member. Please collect RM 25 membership fee from the new member.",NOTE:"Note",REBATE_PLAN:"Rebate Plan",USER_NAME:"User Name",ACCOUNT_NAME_PLACEHOLDER:"Company or individual name",FAIL_TYPE:"Fail Type",COUNT:"Count",QUEUE_STATS:"Queue Statistics",MODE_REPORT:"Top Up by SMS %",TOTAL_REPORT:"Top Up Count",PENDING_REPORT:"Pending Top Up",FAILED_REPORT:"Failed Top Up",SUCESS_REPORT:"Success Top Up",MAX_WAIT_SECOND:"Max Wait Seconds",AVG_WAIT_SECOND:"Average Wait Seconds",MIN_WAIT_SECOND:"Min Wait Seconds",TOTAL_TRANSFER:"Total Transfer",TOTAL_INCOME:"Total Income",MEMBERSHIP_FEE:"Membership Fee",SEND_SMS_FEE:"Send SMS Fee",RESET_PWD_FEE:"Reset Password Fee",RESET_PWD:"Reset Password",OTHER_STATS:"Other Statistics",DATE:"Date",DEVICE:"Device",MEMBER_GROWTH:"Member Growth",CANCEL:"Cancel",CONFIRM_CANCEL:"Are you sure you want to cancel?",PHOTOS:"Photo",REMARK:"Remark",BANK_IN_DATE:"Deposit Date",TIME:"Time",TO:"To",DISCLAIMER:"Purchase from your Upline at own risk. eLoad Club is not responsible for damages of any kind arising out of this purchase.",BANK_IN_INFO:"Please enter your deposit amount, time, bank & deposit slip.",TRANSFER_HISTORY:"Transfer History",Processed:"Processed",ALL_MEMBERS:"-- All Members --",TOPUP_REBATE:"Top Up Rebate",MEMBER_REBATE:"New Member Bonus",Bonus:"Bonus",CHANGE_REBATE_RATE_NOTE:"Please choose a Rebate Plan carefully. You cannot change to lower rebate plan afterwards.",REDUCE_REBATE_RATE_NOTE:"Please set your Rebate Rate carefully. You cannot reduce the rates once you assign members to this plan.",BONUS_TREND:"Bonus Trend",WEEK:"Week",WEEKLY_TREND:"Weekly Trend",CASH:"Cash",GRAND:"Grand",TOTAL:"Total",TOPUP_SUMMARY:"Top Up Summary",I_AGREE:"I agree to the",TOC:"Terms & Conditions",PRIVACY_POLICY:"Privacy Policy",INVALID_VALUE:"Invalid value",APP_NAME:"eLoad Club",Cancelled:"Cancelled:",ENTER_MEMBER_PHONE:"Enter member's phone number:",SLOW_J:"Click <b>Apply<\/b> and your PC will switch to Google DNS server (8.8.8.8 and 8.8.4.4).",SLOW_I:"Go to the download folder, double click to open DNS Changer app. Click <b>Yes<\/b> when you see the Use Access Control dialog below.",SLOW_H:"Download the DNS Changer app:",SLOW_G:"Plug in a network cable to your PC, or connect to Wifi.",SLOW_F:"If you like to revert to original DNS server, simply click <b>Reset<\/b>.",SLOW_E:"Open DNS Changer app. In Auto Settings tab page, tap <b>Apply<\/b>.",SLOW_D:"For Android version 4.4, 4.4.1 and 4.4.2 users, please update your device to version 4.4.3 before continue.",SLOW_C:"Install",SLOW_B:"Connect to Wifi or, turn on your mobile data connection.",SLOW_A:"If you experience frequent slow internet connection problem, we recommend you to use Google DNS Server, which may improve the performance.",INTERNET_SLOW:"Internet Slow?",Export_Invoice:"Export Invoice",WEB_ONLY:"This feature is available to Web version only.",MONTH:"Month",EXPORT_INVOICE_MEMO:"Generating invoice of one month will deduct RM 2.00 from your account balance.",EXPORT_INVOICE:"Export Invoice",RULEZ:"To purchase airtime, please pay to:",RULE0:"Rules",RULE1:"No interbank transfer / GIRO.",RULE2:"Minimum purchase is RM 100.",RULE6:" Please purchase by unique values, e.g. 124, 389, 1054.",RULE3:"Submit your order within 30 minutes after payment.",RULE4:"ATM Deposit: Please attach a photo of deposit slip.",RULE7:"Online Transfer: Put your User ID in Recipient Reference.",RULE5:"We process your order at 10 AM - 9 PM.",ORDER_NOW:"Order Now",NEXT:"Next",PAY_TO:"Please pay to one of the following:",IOS:"iPhone Users: Please use Google Chrome to submit your photo. Safari cannot import files.",BALANCE_HISTORY:"Balance History",TRANSFER_INFO:"Enter a negative amount to claim back airtime from a member.",PICK_PHOTO:"Pick Photo",KIOSK_F:"Please pay at the counter. Thank you for shopping with us.",KIOSK_E:"Please confirm your top up details",KIOSK_D:"Please enter your account number",KIOSK_C:"Please enter your phone number",KIOSK_B:"Please select a desired top up amount",KIOSK_A:"Please select a desired product",KIOSK:"Kiosk",PROCESS_ORDER:"Process Orders",CONFIRM_SMS_RECEIPT:"Are you sure you want to send SMS receipt to ",SMS_RECEIPT:"SMS Receipt",CHANGE_PWD_NOTE:"Never use easy-to-guess passwords like '1234',  or use your User ID as password.",HELPLINE_CAPTION:"Whatsapp Only. No phone call please.",HELPLINE:"Helpline",GAMES:"Games",CHATS:"Chats",TYPE_HERE:"Type your message here",LAST_TRX:"[Last Top Up]",STORE:"Store",DRAG:"Re-arrange",FINISH:"Finish",TENDER_NUMBER:"Tender Numbers",FIXED_PRICE:"Fixed Price",NEGOTIABLE:"Negotiable Price",HOW_IT_WORKS:"How it Works",OFFER_A_PRICE:"Offer Your Price",BOOKING:"Booking",BOOK_NOW:"Book This Number",ARE_YOU_SURE:"Are you sure?",CANCEL_BOOKING:"Cancel Booking",ORDER_INFO:"Order Information",ORDER_ID:"Order ID",CUSTOMER_INFO:"Customer (New Owner) Information",TITLE:"Title",FULLNAME:"Full Name",ICNO:"IC/Passport/Army No",NATIONALITY:"Nationality",GENDER:"Gender",MAILINGADDRESS:"Mailing Address",POSTCODE:"Postcode",STATE:"State",BIRTHDATE:"Birthdate (d/M/yyyy)",RACE:"Race",PREFERRED_LANGUAGE:"Preferred Language",CONTACTNO:"Other Contact No",DELIVERYADDRESS:"Name & Address",DELIVERY_INFO:"Your Delivery Information",ID_PHOTO:"IC/Passport/Army ID Photo",SIGNATURE:"Customer Signature",SUBMIT_INFO:"Submit Info",SUBMIT_INFO_WARNING:"Please make sure your account balance has enough fund."};window.uplus.CN={ERROR500:"您的要求产生了内部错误。 请再试一次。",ERROR403:"您无权访问所请求的资源。",ERROR404:"您正查看的资源不存在。",ERROR408:"该请求已超时。 请再试一次。",SIGN_IN:"登录",FORGOT_PASSWORD:"忘了密码",PASSWORD:"密码",REQUIRED:"必填",SUBMIT:"提交",SIGN_OUT:"登出",FORGOT_PASSWORD_PHONE2:"请输入您的帐户电话号码。",FORGOT_PASSWORD_PHONE1:"重置密码将从您的账户余额中扣除 RM 0.50。",FORGOT_PASSWORD_CODE1:"您不久将会收到含有安全代码的短信。",SECURITY_CODE:"请输入安全代码",FORGOT_PASSWORD_RESET1:"请选择您的帐户新密码。",RESET_PASSWORD:"新密码",CONFIRM_PASSWORD:"确认密码",PASSWORD_DONT_MATCH:"密码不匹配",FORGOT_PASSWORD_DONE1:"您成功重置了您的密码。",LOGIN_NOW:"马上登录",CURRENT_PASSWORD:"当前密码",PASSWORD_CHANGED:"密码修改成功。",PRINT:"打印",PHONEGAP_ONLY:"此功能只提供给Android应用程序的版本。",BLUETOOTH_DISABLED:"蓝牙未启用。",PRINTER_ERROR:"打印机错误： ",CONNECT_TO_PRINTER_ERROR:"打印机连接错误： ",NO_PRINTER:"没有蓝牙设备。请配对蓝牙设备。",FIND_PRINTER:"搜寻蓝牙打印机",COMPANY:"公司",PHONE:"电话",ADDRESS:"地址",FOOTER:"页脚",ON:"开",OFF:"关",NEWS:"新闻",BALANCE_INCREASED:"账户余额增加 (仅限账户拥有者)",FAILED_ORDER:"充值状态更新",TRANSFER_REQEUST:"会员请求调动通话时间",NEW:"添加",EDIT:"修改",STATUS:"状态",ACTIVE:"活动状态",SUBJECT:"主题",MEMO:"备注",ENGLISH:"英文",MALAY:"马来文",CHINESE:"中文",DELETE:"删除",CREATED_BY:"创建者",CREATED_ON:"创建于",LAST_EDITED_BY:"修改者",LAST_MODIFIED:"修改于",REFRESH:"刷新",CONFIRM_DELETE:"您确定要删除吗？",ERROR_LOG:"错误记录",ITEM_SELECTED:" 选定项目。 ",SELECT_ALL:"全选",MORE:"更多",MODEM:"数据机",MANAGEMENT:"管理",PRODUCT:"产品",NAME:"名称",USER_ID:"用户名",WEB_PASSWORD:"网络密码",SMS_PIN:"短信密码",URL:"网址",MODE:"模式",PORT:"端口",BALANCE:"余额",INVALID_URL:"无效的网址",LAST_UPDATED:"更新于",TOP_UP:"充值",BROADCAST:"播放",CONFIRM_BROADCAST:"您确定要播放此讯息？",GCM_FAILED:"您的设备未登记推送通知。在继续前，请重新启动此应用程序。",SAVED:"已保存",USER:"用户",SEARCH:"搜索",LAST_LOGIN:"最后登入",CAN_VIEW_ALL_TOPUP:"可查看其他用户的充值",CAN_MANAGE_ACCOUNT:"可管理我的帐户",CAN_MANAGE_DEALER:"可管理会员",MY_ACCOUNT:"我的帐户",PROFILE:"档案",PURCHASE_AIRTIME:"购买通话时间",PURCHASE_HISTORY:"购买记录",NOTHING_TO_DISPLAY:"没有记录",REBATE:"回扣",BANK:"银行",ACCOUNT_NO:"户口号码",ACCOUNT_NAME:"户口名称",CHANNEL:"渠道",DEALERS:"会员",DEALER:"会员",NEW_DEALER:"添加会员",TRANSFER:"调动通话时间",TRANSFER_ORDER:"调动订单",SELECT_PRODUCT:"产品",ENTER_AMOUNT:"充值金额",ENTER_PHONE:"输入电话号码",ENTER_ACCOUNT_NO:"输入帐号",CONFIRM:"确认",TO_PAY:"支付",RESET:"重置",SENDING:"发出 ...",START_PAGE:"首页",PREVIOUS_DAY:"前一天",NEXT_DAY:"后一天",FIND:"搜寻",COPY:"复制",COPIED:"已复制",Pending:"未完成",Success:"成功",Failed:"失败",BAUD_RATE:"波特率",SETTINGS:"设置",CHANGE_PASSWORD:"更改密码",PRINTER:"蓝牙打印机",PRINTER_ONLY:"打印机",LANGUAGE:"语文",NOTIFICATION:"通知",SEND_SMS:"发送短信",CHECK_BALANCE:"帐号余额",CHECK_STATUS:"充值状态",SMS_SENT:"成功发送短信",SEND_SMS_TO:"发送请求短信至:",AVAILABLE_PHONES:"可发送至以下电话号码:",CHECKING:"检查",SMS_MODE:"短信模式",DAYS:["星期天","星期一","星期二","星期三","星期四","星期五","星期六"],LET_DOWNLINE_BANK_TO:"当会员请求通话时间调动，让他们存款到:",PHOTO:"无照片",BANK_IN_OPTIONS:"选项",AMOUNT:"金额",TAKE_PHOTO:"拍照片",RANGE_ERROR:"只接受 1-999999",ORDER:"购买",Transfer:"已调动:",Reset_Password:"重置密码:",Recruit_Member:"招募会员:",NOTIFICATION_NOTE:"对以下事件，向我发送通知:",USER_ID_NOTE:"用户名即用户的手机号码。",ANNOUNCEMENT:"公告",PRINTER_PAGE_TITLE:"设定蓝牙移动打印机以打印充值收据。",CONFIRM_TRANSFER:"你是否要调动通话时间给该会员？",COLLECT_MEMBERSHIP_FEE:"招募新会员时，我们将从您的帐户扣除 RM 25。请从新会员收回 RM 25 的会员费。",NOTE:"注意",REBATE_PLAN:"折扣方案",USER_NAME:"用户名称",ACCOUNT_NAME_PLACEHOLDER:"公司或个人名称",FAIL_TYPE:"失败种类",COUNT:"计数",QUEUE_STATS:"队列统计",MODE_REPORT:"短信充值 %",TOTAL_REPORT:"充值计数",PENDING_REPORT:"未完成充值",FAILED_REPORT:"失败充值",SUCESS_REPORT:"成功充值",MAX_WAIT_SECOND:"最大等待秒数",AVG_WAIT_SECOND:"平均等待秒数",MIN_WAIT_SECOND:"最低等待秒数",TOTAL_TRANSFER:"总调动",TOTAL_INCOME:"总收入",MEMBERSHIP_FEE:"会员费",SEND_SMS_FEE:"短信发送费",RESET_PWD_FEE:"重置密码费",RESET_PWD:"重置密码",OTHER_STATS:"其他统计",DATE:"日期",DEVICE:"设备",MEMBER_GROWTH:"会员增长",CANCEL:"取消",CONFIRM_CANCEL:"您确定要取消吗?",PHOTOS:"照片",REMARK:"备注",BANK_IN_DATE:"存款日期",TIME:"时间",TO:"至",DISCLAIMER:"请自负与上线购买的风险。易络网将不为此购买所产生的任何损失负责。",BANK_IN_INFO:"请输入您的存款数额、时间、银行和存款单。",TRANSFER_HISTORY:"调动记录",Processed:"已处理",ALL_MEMBERS:"-- 所有会员 --",TOPUP_REBATE:"充值回扣",MEMBER_REBATE:"新会员奖金",Bonus:"奖金",CHANGE_REBATE_RATE_NOTE:"请慎重的选择折扣方案。您之后不能更改至较低的折扣方案。",REDUCE_REBATE_RATE_NOTE:"请慎重的制定折扣方案。一旦您分配会员至此方案，您将不能降低回扣率。",BONUS_TREND:"奖金趋势",WEEK:"本周",WEEKLY_TREND:"周期趋势",CASH:"现金",GRAND:"大",TOTAL:"总计",TOPUP_SUMMARY:"充值摘要",I_AGREE:"我同意此",TOC:"条款及细则",PRIVACY_POLICY:"隐私政策",INVALID_VALUE:"数值无效",APP_NAME:"易络网",Cancelled:"已取消:",ENTER_MEMBER_PHONE:"输入会员的电话号码:",SLOW_J:"点击 <b>Apply<\/b> 后，您的电脑将切换到 Google DNS 服务器（8.8.8.8 和 8.8.4.4）。",SLOW_I:"进入下载文件夹，双击打开 DNS Changer 应用程序。如果您看到下面的 User Access Control 对话框,  请点击 <b>Yes<\/b>。",SLOW_H:"下载 DNS Changer 应用程序：",SLOW_G:"请把网络电缆插入电脑，或连接到 Wifi。",SLOW_F:"如果你想恢复到原来的 DNS 服务器，只需点击 <b>Reset<\/b>。",SLOW_E:"打开 DNS Changer 应用程序。在 Auto Settings 的标签页，点击 <b>Apply<\/b>。",SLOW_D:"对于 Android 4.4， 4.4.1 和 4.4.2 的用户，请更新您的设备到 4.4.3 版本再继续。",SLOW_C:"安装",SLOW_B:"连接到 Wifi 或连接到移动数据。",SLOW_A:"如果您遇到频繁的网速慢的问题，我们建议您使用 Google DNS服务器，或许可提高性能。",INTERNET_SLOW:"网速太慢？",Export_Invoice:"输出帐单",WEB_ONLY:"此功能只提供给网页版本。",MONTH:"月份",EXPORT_INVOICE_MEMO:"输出一个月的帐单将从您的账户余额中扣除RM2.00。",EXPORT_INVOICE:"输出帐单",RULEZ:"欲购买通话时间，请支付至：",RULE0:"规则",RULE1:"不接受跨银行转账 / GIRO 。",RULE2:"最低购买是 RM 100。",RULE6:"请购买独特的价值，如 124，389，1054。",RULE3:"请在付款后30分钟内提交您的订单。",RULE4:"ATM存款： 请附上存款单的照片。",RULE7:"网上转账：请把您的用户名放在 Recipient Reference.",RULE5:"我们会在 10 AM - 9 PM 处理您的订单。",ORDER_NOW:"立即订购",NEXT:"下一步",PAY_TO:"请支付到以下之一：",IOS:"iPhone 用户：请使用 Google Chrome 提交您的照片。 Safari 无法导入文件。",BALANCE_HISTORY:"余额记录",TRANSFER_INFO:"输入负值以从会员索回通话时间。",PICK_PHOTO:"挑选照片",KIOSK_F:"请到柜台付款。谢谢您在我们店里购物。",KIOSK_E:"请确认您的充值信息",KIOSK_D:"请输入您的帐号",KIOSK_C:"请输入您的电话号码",KIOSK_B:"请选择所需的充值金额",KIOSK_A:"请选择所需的产品",KIOSK:"售货亭",PROCESS_ORDER:"处理订单",CONFIRM_SMS_RECEIPT:"您确定要发送短信收据至 ",SMS_RECEIPT:"短信收据",CHANGE_PWD_NOTE:"请勿用容易猜测的密码，比如 “1234”，或使用您的用户名作为密码。",HELPLINE_CAPTION:" 只限 Whatsapp。请勿拨打电话。",HELPLINE:"帮助热线",GAMES:"Games",CHATS:"聊天",TYPE_HERE:"在这里输入你的信息",LAST_TRX:"[最后的充值]",STORE:"Store",DRAG:"重新排列",FINISH:"完毕",TENDER_NUMBER:"投标号码",FIXED_PRICE:"固定价格",NEGOTIABLE:"价格可议",HOW_IT_WORKS:"怎么运行",OFFER_A_PRICE:"提供您的价格",BOOKING:"预订",BOOK_NOW:"预订此号码",ARE_YOU_SURE:"是否确定？",CANCEL_BOOKING:"取消预订",ORDER_INFO:"订单信息",ORDER_ID:"订单号码",CUSTOMER_INFO:"客户 (新所有者) 信息",TITLE:"称号",FULLNAME:"全名",ICNO:"身份证/护照/军籍号码",NATIONALITY:"国籍",GENDER:"性别",MAILINGADDRESS:"邮寄地址",POSTCODE:"邮政编码",STATE:"州属",BIRTHDATE:"生日 (d/M/yyyy)",RACE:"种族",PREFERRED_LANGUAGE:"首选语言",CONTACTNO:"其他联系号码",DELIVERYADDRESS:"名字与地址",DELIVERY_INFO:"您的送货信息",ID_PHOTO:"身份证/护照/军籍照片",SIGNATURE:"客户签名",SUBMIT_INFO:"提交信息",SUBMIT_INFO_WARNING:"请确保您的帐户余额有足够的资金。"};window.uplus.MY={ERROR500:"Permintaan anda menjana ralat dalaman. Sila cuba lagi.",ERROR403:"Anda tidak mempunyai kebenaran untuk mengakses sumber-sumber yang diminta.",ERROR404:"Sumber yang anda cuba untuk melihat tidak wujud.",ERROR408:"Permintaan itu telah tamat masa. Sila cuba lagi.",SIGN_IN:"Log Masuk",FORGOT_PASSWORD:"Lupa Kata Laluan",PASSWORD:"Kata Laluan",REQUIRED:"Diperlukan.",SUBMIT:"Serah",SIGN_OUT:"Log Keluar",FORGOT_PASSWORD_PHONE2:"Sila masukkan nombor telefon akaun anda.",FORGOT_PASSWORD_PHONE1:"Set semula kata laluan akan menolak RM0.50 daripada baki akaun anda.",FORGOT_PASSWORD_CODE1:"Anda harus menerima SMS dari kami sebentar lagi dengan kod keselamatan.",SECURITY_CODE:"Sila masukkan kod keselamatan.",FORGOT_PASSWORD_RESET1:"Sila pilih kata laluan baru untuk akaun anda.",RESET_PASSWORD:"Kata Laluan Baru",CONFIRM_PASSWORD:"Sahkan Kata Laluan",PASSWORD_DONT_MATCH:"Kata laluan tidak sepadan.",FORGOT_PASSWORD_DONE1:"Anda telah berjaya set semula kata laluan anda.",LOGIN_NOW:"Log Masuk Sekarang",CURRENT_PASSWORD:"Kata Laluan Semasa Anda",PASSWORD_CHANGED:"Kata laluan telah berjaya ditukar.",PRINT:"Cetak",PHONEGAP_ONLY:"Ciri-ciri ini hanya didapati dengan versi aplikasi Android sahaja.",BLUETOOTH_DISABLED:"Bluetooth tidak aktif.",PRINTER_ERROR:"Ralat Pencetak: ",CONNECT_TO_PRINTER_ERROR:"Ralat Sambungan Pencetak: ",NO_PRINTER:"Tiada peranti Bluetooth. Sila pasangkan peranti Bluetooth.",FIND_PRINTER:"Cari pencetak Bluetooth",COMPANY:"Syarikat",PHONE:"Telefon",ADDRESS:"Alamat",FOOTER:"Nota Kaki",ON:"On",OFF:"Off",NEWS:"Berita",BALANCE_INCREASED:"Baki akaun bertambah (Pemilik akaun sahaja)",FAILED_ORDER:"Status Top Up dikemaskini",TRANSFER_REQEUST:"Ahli meminta pindahan Airtime",NEW:"Tambah",EDIT:"Edit",STATUS:"Status",ACTIVE:"Aktif",SUBJECT:"Subjek",MEMO:"Memo",ENGLISH:"Inggeris",MALAY:"Melayu",CHINESE:"Cina",DELETE:"Padam",CREATED_BY:"Dicipta Olen",CREATED_ON:"Dicipta Pada",LAST_EDITED_BY:"Diubah Oleh",LAST_MODIFIED:"Diubah Pada",REFRESH:"Segar Semula",CONFIRM_DELETE:"Adakah anda pasti anda mahu memadam?",ERROR_LOG:"Log Ralat",ITEM_SELECTED:" item terpilih. ",SELECT_ALL:"Pilih Semua",MORE:"Lebih Banyak",MODEM:"Modem",MANAGEMENT:"Pengurusan",PRODUCT:"Produk",NAME:"Nama",USER_ID:"ID Pengguna",WEB_PASSWORD:"Kata Laluan",SMS_PIN:"PIN SMS",URL:"URL",MODE:"Mod",PORT:"Port",BALANCE:"Baki",INVALID_URL:"URL tidak sah.",LAST_UPDATED:"Dikemaskini",TOP_UP:"Top Up",BROADCAST:"Siarkan",CONFIRM_BROADCAST:"Adakah anda pasti anda mahu untuk menyiarkan mesej?",GCM_FAILED:"Peranti anda belum berdaftar dengan Pemberitahuan Tolak. Sila mulakan semula aplikasi ini sebelum meneruskan.",SAVED:"Disimpan",USER:"Pengguna",SEARCH:"Cari",LAST_LOGIN:"Log Masuk",CAN_VIEW_ALL_TOPUP:"Boleh Lihat Top Up Pengguna Lain-lain",CAN_MANAGE_ACCOUNT:"Boleh Mengurus Akaun Saya",CAN_MANAGE_DEALER:"Boleh Mengurus Ahli",MY_ACCOUNT:"Akaun Saya",PROFILE:"Profil",PURCHASE_AIRTIME:"Beli Airtime",PURCHASE_HISTORY:"Sejarah Pembelian",NOTHING_TO_DISPLAY:"Tiada apa-apa untuk dipaparkan.",REBATE:"Rebat",BANK:"Bank",ACCOUNT_NO:"No. Akaun",ACCOUNT_NAME:"Nama Akaun",CHANNEL:"Saluran",DEALERS:"Ahli",DEALER:"Ahli",NEW_DEALER:"Tambah Ahli",TRANSFER:"Pindah Airtime",TRANSFER_ORDER:"Pesanan Pindah",SELECT_PRODUCT:"Produk",ENTER_AMOUNT:"Jumlah Top Up",ENTER_PHONE:"Masukkan Nombor Telefon",ENTER_ACCOUNT_NO:"Masukkan Nombor Akaun",CONFIRM:"Mengesahkan",TO_PAY:"Bayar",RESET:"Set Semula",SENDING:"Menghantar ...",START_PAGE:"Halaman Mula",PREVIOUS_DAY:"Hari Sebelum",NEXT_DAY:"Hari Berikut",FIND:"Cari",COPY:"Salin",COPIED:"Disalin",Pending:"Belum Selesai",Success:"Berjaya",Failed:"Gagal",BAUD_RATE:"Kadar Baud",SETTINGS:"Seting",CHANGE_PASSWORD:"Tukar Kata Laluan",PRINTER:"Pencetak Bluetooth",PRINTER_ONLY:"Pencetak",LANGUAGE:"Bahasa",NOTIFICATION:"Pemberitahuan",SEND_SMS:"Hantar SMS",CHECK_BALANCE:"Baki Akaun",CHECK_STATUS:"Status Top Up",SMS_SENT:"Mesej berjaya dihantar",SEND_SMS_TO:"Menghantar permintaan SMS ke:",AVAILABLE_PHONES:"Nombor telefon destinasi tersedia:",CHECKING:"Semakan",SMS_MODE:"Mod SMS",DAYS:["Ahad","Isnin","Selasa","Rabu","Khamis","Jumaat","Sabtu"],LET_DOWNLINE_BANK_TO:"Apabila ahli-ahli meminta pindahan Airtime, biarkan mereka mendeposit ke:",PHOTO:"Tiada Gambar",BANK_IN_OPTIONS:"Pilihan",AMOUNT:"Jumlah",TAKE_PHOTO:"Mengambil Gambar",RANGE_ERROR:"Terima sahaja 1 - 999999",ORDER:"Beli",Transfer:"Dipindah:",Reset_Password:"Set Semula Kata Laluan:",Recruit_Member:"Memperolehi Ahli:",NOTIFICATION_NOTE:"Hantar pemberitahuan kepada saya apabila:",USER_ID_NOTE:"ID pengguna adalah nombor telefon bimbit pengguna.",ANNOUNCEMENT:"Pengumuman",PRINTER_PAGE_TITLE:"Persediaan pencetak mudah alih Bluetooth untuk mencetak resit Top Up.",CONFIRM_TRANSFER:"Adakah anda mahu memindahkan Airtime kepada ahli ini?",COLLECT_MEMBERSHIP_FEE:"Kami menolak RM 25 dari akaun anda pada memperolehi ahli baru. Sila kutip RM 25 yuran keahlian dari ahli baru.",NOTE:"Nota",REBATE_PLAN:"Pelan Rebat",USER_NAME:"Nama Pengguna",ACCOUNT_NAME_PLACEHOLDER:"Nama Syarikat atau Individu",FAIL_TYPE:"Jenis Gagal",COUNT:"Bilangan",QUEUE_STATS:"Statistik Barisan",MODE_REPORT:"Top Up melalui SMS %",TOTAL_REPORT:"Bilangan Top Up",PENDING_REPORT:"Top Up Belum Selesai",FAILED_REPORT:"Top Up Gagal",SUCESS_REPORT:"Top Up Berjaya",MAX_WAIT_SECOND:"Max Saat Menunggu",AVG_WAIT_SECOND:"Purata Saat Menunggu",MIN_WAIT_SECOND:"Min Saat Menunggu",TOTAL_TRANSFER:"Jumlah Pemindahan",TOTAL_INCOME:"Jumlah Pendapatan",MEMBERSHIP_FEE:"Bayaran Keahlian",SEND_SMS_FEE:"Bayaran Menghantar SMS",RESET_PWD_FEE:"Bayaran Set Semula Kata Laluan",RESET_PWD:"Set Semula Kata Laluan",OTHER_STATS:"Statistik Lain",DATE:"Tarikh",DEVICE:"Peranti",MEMBER_GROWTH:"Pertumbuhan Ahli",CANCEL:"Batal",CONFIRM_CANCEL:"Adakah anda pasti anda mahu membatalkan?",PHOTOS:"Gambar",REMARK:"Catatan",BANK_IN_DATE:"Tarikh Deposit",TIME:"Masa",TO:"Untuk",DISCLAIMER:"Membeli dari Upline anda pada risiko sendiri. Kelab eLoad tidak akan bertanggungjawab terhadap sebarang kerosakan yang timbul daripada pembelian ini.",BANK_IN_INFO:"Sila masukkan jumlah deposit anda, masa, bank & slip deposit.",TRANSFER_HISTORY:"Sejarah Pemindahan",Processed:"Diproses",ALL_MEMBERS:"-- Semua Ahli --",TOPUP_REBATE:"Rebat Top Up",MEMBER_REBATE:"Bonus Ahli Baru",Bonus:"Bonus",CHANGE_REBATE_RATE_NOTE:"Pilih Pelan Rebat dengan berhati-hati. Anda tidak boleh menukar ke pelan rebat yang lebih rendah selepas ini.",REDUCE_REBATE_RATE_NOTE:"Sila set Kadar Rebat anda dengan teliti. Anda tidak boleh mengurangkan kadar sebaik sahaja anda menetapkan ahli-ahli ke pelan ini.",BONUS_TREND:"Trend Bonus",WEEK:"Minggu",WEEKLY_TREND:"Trend Mingguan",CASH:"Tunai",GRAND:"Besar",TOTAL:"Jumlah",TOPUP_SUMMARY:"Ringkasan Top Up",I_AGREE:"Saya bersetuju dengan",TOC:"Terma & Syarat",PRIVACY_POLICY:"Dasar Privasi",INVALID_VALUE:"Nilai yang tidak sah",APP_NAME:"Kelab eLoad",Cancelled:"Dibatal:",ENTER_MEMBER_PHONE:"Masukkan nombor telefon ahli:",SLOW_J:"Klik <b>Apply<\/b> dan PC anda akan beralih kepada pelayan DNS Google (8.8.8.8 dan 8.8.4.4).",SLOW_I:"Pergi ke folder muat turun, klik dua kali untuk membuka aplikasi DNS Changer. Klik <b>Yes<\/b> apabila anda melihat dialog Use Access Control di bawah.",SLOW_H:"Muat turun aplikasi DNS Changer:",SLOW_G:"Pasangkan kabel rangkaian ke PC anda, atau menyambung ke Wifi.",SLOW_F:"Jika anda hendak kembali ke pelayan DNS asal, klik <b>Reset<\/b>.",SLOW_E:"Buka aplikasi DNS Changer. Dalam halaman tab Auto Settings, ketik <b>Apply<\/b>.",SLOW_D:"Untuk pengguna Android versi 4.4, 4.4.1 dan 4.4.2, sila kemas kini peranti anda ke versi 4.4.3 sebelum meneruskan.",SLOW_C:"pasang",SLOW_B:"Menyambung ke Wifi atau menghidupkan sambungan data mudah alih anda.",SLOW_A:"Jika anda mengalami  masalah sambungan internet labat yang kerap, kami mencadangkan anda menggunakan Google DNS Server, ia mungkin meningkatkan prestasi.",INTERNET_SLOW:"Internet Lambat?",Export_Invoice:"Eksport Invois",WEB_ONLY:"Ciri-ciri ini hanya didapati dengan versi aplikasi Web sahaja.",MONTH:"Bulan",EXPORT_INVOICE_MEMO:"Menjana invois satu bulan akan menolak RM 2.00 daripada baki akaun anda.",EXPORT_INVOICE:"Eksport Invois",RULEZ:"Untuk membeli Airtime, sila bayar kepada:",RULE0:"Peraturan",RULE1:"Tiada pemindahan antara bank (IBG).",RULE2:"Pembelian minimum ialah RM 100.",RULE6:"Sila beli dengan nilai unik, contohnya 124, 389, 1054.",RULE3:"Serahkan pesanan anda dalam 30 minit selepas pembayaran.",RULE4:"ATM Deposit: Sila sertakan gambar slip deposit.",RULE7:"Online Transfer: Letakkan ID Pengguna anda di Recipient Reference.",RULE5:"Kami akan memproses pesanan anda pada 10 AM - 9 PM.",ORDER_NOW:"Pesan Sekarang",NEXT:"Seterusnya",PAY_TO:"Sila bayar kepada salah satu daripada yang berikut:",IOS:"Pengguna iPhone: Sila gunakan Google Chrome untuk menghantar foto anda. Safari tidak boleh mengimport fail.",BALANCE_HISTORY:"Sejarah Baki",TRANSFER_INFO:"Masukkan jumlah negatif untuk menuntut kembali Airtime dari ahli.",PICK_PHOTO:"Pilih Photo",KIOSK_F:"Sila bayar di kaunter. Terima kasih atas membeli-belah dengan kami.",KIOSK_E:"Sila sahkan butiran tambahan anda",KIOSK_D:"Sila masukkan nombor akaun anda",KIOSK_C:"Sila masukkan nombor telefon anda",KIOSK_B:"Sila pilih jumlah tambahan yang dikehendaki",KIOSK_A:"Sila pilih produk yang dikehendaki",KIOSK:"Kiosk",PROCESS_ORDER:"Proses Pesanan",CONFIRM_SMS_RECEIPT:"Adakah anda pasti anda ingin menghantar resit SMS ke ",SMS_RECEIPT:"SMS Resit",CHANGE_PWD_NOTE:"Jangan menggunakan kata laluan yang mudah diteka seperti '1234', atau menggunakan ID Pengguna anda sebagai kata laluan.",HELPLINE_CAPTION:"WhatsApp sahaja. Tiada panggilan telefon.",HELPLINE:"Talian Bantuan",GAMES:"Games",CHATS:"Sembang",TYPE_HERE:"Taipkan mesej anda di sini",LAST_TRX:"[Top Up Terakhir]",STORE:"Store",DRAG:"Susun",FINISH:"Habis",TENDER_NUMBER:"Nombor Tender",FIXED_PRICE:"Harga Tetap",NEGOTIABLE:"Harga Boleh Dirunding",HOW_IT_WORKS:"Bagaimana Ia Berfungsi",OFFER_A_PRICE:"Tawarkan Harga Anda",BOOKING:"Tempahan",BOOK_NOW:"Menempah Nombor Ini",ARE_YOU_SURE:"Adakah anda pasti?",CANCEL_BOOKING:"Batalkan Tempahan",ORDER_INFO:"Maklumat Pesanan",ORDER_ID:"Pesanan ID",CUSTOMER_INFO:"Maklumat Pelanggan (Pemilik Baru)",TITLE:"Gelaran",FULLNAME:"Nama Penuh",ICNO:"No IC/Pasport/Tentera",NATIONALITY:"Kewarganegaraan",GENDER:"Jantina",MAILINGADDRESS:"Alamat Surat",POSTCODE:"Poskod",STATE:"Negeri",BIRTHDATE:"Tarikh Lahir (d/M/yyyy)",RACE:"Bangsa",PREFERRED_LANGUAGE:"Bahasa Pilihan",CONTACTNO:"No Telefon Lain",DELIVERYADDRESS:"Nama & Alamat",DELIVERY_INFO:"Maklumat Penghantaran Anda",ID_PHOTO:"Gambar IC/Pasport/Tentera",SIGNATURE:"Tandatangan Pelanggan",SUBMIT_INFO:"Hantar Maklumat",SUBMIT_INFO_WARNING:"Sila pastikan baki akaun anda mempunyai duit yang cukup."};window.uplus.phones=[{phone:"0194993193",name:"Celcom"},{phone:"0134288319",name:"DiGi"},{phone:"01114059314",name:"Hotlink"}];window.products=[{id:"Celcom",name:"Celcom",icon:"img/celcom.jpg",idx:-1,hasExtra:!0,hasAccountNo:!1,mask:"999-?9?9?9-?9?9?9?9?9",sample:null,otherAmount:!1,amounts:[{amt:5},{amt:10},{amt:15},{amt:20},{amt:25},{amt:30},{amt:40},{amt:50},{amt:60},{amt:70},{amt:80},{amt:90},{amt:100}]},{id:"Celcom Internet",name:"Celcom Internet",icon:"img/celcom.jpg",idx:-1,hasExtra:!0,hasAccountNo:!1,mask:"999-?9?9?9-?9?9?9?9?9",sample:null,otherAmount:!1,amounts:[{amt:5,name:"300MB/3day - "},{amt:10,name:"1.5GB/Week - "},{amt:30,name:"4GB/Month - "},{amt:50,name:"9GB/Month - "},{amt:80,name:"15GB/Month - "}]},{id:"Celcom Bill",name:"Celcom Bill",icon:"img/celcom.jpg",idx:-1,hasExtra:!1,hasAccountNo:!0,mask:"999-?9?9?9-?9?9?9?9?9",sample:"(Letak 1 jika tidak tahu)",otherAmount:!0,amounts:[{amt:5},{amt:10},{amt:30},{amt:50},{amt:100}]},{id:"DiGi",name:"DiGi",icon:"img/digi.jpg",idx:-1,hasExtra:!0,hasAccountNo:!1,mask:"999-?9?9?9-?9?9?9?9?9",sample:null,otherAmount:!1,amounts:[{amt:5},{amt:10},{amt:15},{amt:20},{amt:25},{amt:30},{amt:40},{amt:50},{amt:60},{amt:70},{amt:80},{amt:90},{amt:100}]},{id:"DiGi Internet",name:"DiGi Internet",icon:"img/digi.jpg",idx:-1,hasExtra:!0,hasAccountNo:!1,mask:"999-?9?9?9-?9?9?9?9?9",sample:null,otherAmount:!1,amounts:[{amt:5},{amt:10},{amt:30},{amt:50},{amt:100}]},{id:"DiGi Bill",name:"DiGi Bill",icon:"img/digi.jpg",idx:-1,hasExtra:!1,hasAccountNo:!1,mask:"999-?9?9?9-?9?9?9?9?9",sample:null,otherAmount:!0,amounts:[{amt:5},{amt:10},{amt:30},{amt:50},{amt:100}]},{id:"DiGi Check Bill",name:"DiGi Check Bill",icon:"img/digi.jpg",idx:-1,hasExtra:!1,hasAccountNo:!1,mask:"999-?9?9?9-?9?9?9?9?9",sample:null,otherAmount:!1,amounts:[{amt:0}]},{id:"Hotlink",name:"Hotlink",icon:"img/hotlink.jpg",idx:-1,hasExtra:!0,hasAccountNo:!1,mask:"999-?9?9?9-?9?9?9?9?9",sample:null,otherAmount:!1,amounts:[{amt:5},{amt:10},{amt:15},{amt:20},{amt:30},{amt:50},{amt:60},{amt:100}]},{id:"Maxis Bill",name:"Maxis Bill",icon:"img/maxis.jpg",idx:-1,hasExtra:!1,hasAccountNo:!1,mask:"999-?9?9?9-?9?9?9?9?9",sample:null,otherAmount:!0,amounts:[{amt:5},{amt:10},{amt:30},{amt:50},{amt:100}]},{id:"Altel",name:"Altel",icon:"img/altel.jpg",idx:-1,hasExtra:!0,hasAccountNo:!1,mask:"999-?9?9?9-?9?9?9?9?9",sample:null,otherAmount:!1,amounts:[{amt:5},{amt:10},{amt:15},{amt:20},{amt:25},{amt:30},{amt:40},{amt:50},{amt:100}]},{id:"Friendi",name:"Friendi",icon:"img/friendi.jpg",idx:-1,hasExtra:!0,hasAccountNo:!1,mask:"999-?9?9?9-?9?9?9?9?9",sample:null,otherAmount:!1,amounts:[{amt:5},{amt:10},{amt:20},{amt:30},{amt:50},{amt:100}]},{id:"OneXOX",name:"OneXOX",icon:"img/onexox.jpg",idx:-1,hasExtra:!0,hasAccountNo:!1,mask:"999-?9?9?9-?9?9?9?9?9",sample:null,otherAmount:!1,amounts:[{amt:5},{amt:10},{amt:30},{amt:50}]},{id:"Tron",name:"Tron",icon:"img/tron.jpg",idx:-1,hasExtra:!0,hasAccountNo:!1,mask:"999-?9?9?9-?9?9?9?9?9",sample:null,otherAmount:!1,amounts:[{amt:5},{amt:10},{amt:30},{amt:50},{amt:100}]},{id:"TuneTalk",name:"TuneTalk",icon:"img/tunetalk.jpg",idx:-1,hasExtra:!0,hasAccountNo:!1,mask:"999-?9?9?9-?9?9?9?9?9",sample:null,otherAmount:!1,amounts:[{amt:5},{amt:10},{amt:15},{amt:20},{amt:30},{amt:50},{amt:100}]},{id:"Umobile",name:"Umobile",icon:"img/umobile.jpg",idx:-1,hasExtra:!0,hasAccountNo:!1,mask:"999-?9?9?9-?9?9?9?9?9",sample:null,otherAmount:!0,amounts:[{amt:5},{amt:10},{amt:15},{amt:20},{amt:30},{amt:50},{amt:100}]},{id:"Umobile Bill",name:"Umobile Bill",icon:"img/umobile.jpg",idx:-1,hasExtra:!0,hasAccountNo:!1,mask:"999-?9?9?9-?9?9?9?9?9",sample:null,otherAmount:!0,amounts:[{amt:5},{amt:10},{amt:30},{amt:50},{amt:100}]},{id:"XOX",name:"XOX",icon:"img/xox.jpg",idx:-1,hasExtra:!0,hasAccountNo:!1,mask:"999-?9?9?9-?9?9?9?9?9",sample:null,otherAmount:!1,amounts:[{amt:5},{amt:10},{amt:15},{amt:20},{amt:25},{amt:30},{amt:40},{amt:50},{amt:60},{amt:70},{amt:80},{amt:90},{amt:100}]},{id:"Astro Bill",name:"Astro Bill",icon:"img/astro.jpg",idx:-1,hasExtra:!1,hasAccountNo:!0,mask:"999-?9?9?9-?9?9?9?9?9",sample:null,otherAmount:!0,amounts:[{amt:5},{amt:10},{amt:30},{amt:50},{amt:100}]},{id:"Njoi Pin",name:"Njoi Pin",icon:"img/njoi.jpg",idx:-1,hasExtra:!0,hasAccountNo:!1,mask:"999-?9?9?9-?9?9?9?9?9",sample:null,otherAmount:!1,amounts:[{amt:10},{amt:20},{amt:30}]},{id:"GrabCar Pin",name:"GrabCar Pin",icon:"img/grab.jpg",idx:-1,hasExtra:!0,hasAccountNo:!1,mask:"999-?9?9?9-?9?9?9?9?9",sample:null,otherAmount:!1,amounts:[{amt:10},{amt:20},{amt:50}]},{id:"iTalk Pin",name:"iTalk Pin",icon:"img/italk.jpg",idx:-1,hasExtra:!0,hasAccountNo:!1,mask:"999-?9?9?9-?9?9?9?9?9",sample:"(Dial 1800 87 3636 to use)",otherAmount:!1,amounts:[{amt:20}]},{id:"MOL Points",name:"MOL Points",icon:"img/mol.jpg",idx:-1,hasExtra:!1,hasAccountNo:!1,mask:"999-?9?9?9-?9?9?9?9?9",sample:null,otherAmount:!1,amounts:[{amt:10},{amt:20},{amt:30},{amt:40},{amt:50},{amt:100}]},{id:"Bangladesh Prepaid",name:"Bangladesh Prepaid",icon:"img/bangla.jpg",idx:-1,hasExtra:!1,hasAccountNo:!1,mask:"99-999-?9?9?9-?9?9?9?9?9",sample:"88-01X-XXX-XXXXX",otherAmount:!1,amounts:[{amt:7,name:"TK 100 - "},{amt:13,name:"TK 200 - "}]},{id:"China Prepaid",name:"China Prepaid",icon:"img/china.jpg",idx:-1,hasExtra:!1,hasAccountNo:!1,mask:"99-999-?9?9?9-?9?9?9?9?9",sample:"86-1XX-XXX-XXXXX",otherAmount:!1,amounts:[{amt:10,name:"CNY 10 - "},{amt:18.5,name:"CNY 20 - "},{amt:27,name:"CNY 30 - "},{amt:40,name:"CNY 50 - "}]},{id:"Indonesia Prepaid",name:"Indonesia Prepaid",icon:"img/indo.jpg",idx:-1,hasExtra:!1,hasAccountNo:!1,mask:"99-999-?9?9?9-?9?9?9?9?9",sample:"62-8XX-XXX-XXXXX",otherAmount:!1,amounts:[{amt:11,name:"RP 25,000 - "},{amt:22,name:"RP 50,000 - "},{amt:44,name:"RP 100,000 - "}]},{id:"PLN Indonesia",name:"PLN Indonesia",icon:"img/pln.jpg",idx:-1,hasExtra:!1,hasAccountNo:!0,mask:"99-999-?9?9?9-?9?9?9?9?9",sample:"62-8XX-XXX-XXXXX",otherAmount:!1,amounts:[{amt:11,name:"RP 20,000 - "},{amt:22,name:"RP 50,000 - "}]}];$data.Entity.extend("Account",{Id:{type:"int",key:!0,computed:!0},Name:{type:String,required:!0,maxLength:50},Phone:{type:String,required:!0,maxLength:20}});$data.Entity.extend("Customer",{Id:{type:String,key:!0,computed:!1,maxLength:20},Total:{type:"int"}});$data.EntityContext.extend("CustomerDatabase",{Customers:{type:$data.EntitySet,elementType:Customer},Accounts:{type:$data.EntitySet,elementType:Account}});window.uplus.db=window.window.openDatabase?new CustomerDatabase({provider:"webSql",databaseName:"CustomerDatabase"}):new CustomerDatabase({provider:"indexedDb",databaseName:"CustomerDatabase",dbCreation:$data.storageProviders.DbCreationType.DropTableIfChanged,version:1});angular.module("uplus").directive("jqSparkline",[function(){"use strict";return{restrict:"A",require:"ngModel",link:function(n,t,i,r){var u={},f;u.type=i.type||"bar";u.barWidth="18px";u.barSpacing="2px";u.disableInteraction=!0;n.$watch(i.ngModel,function(){f()});n.$watch(i.opts,function(){f()});f=function(){var n,f;i.opts&&(u.height="60px",u.barWidth="21px",u.disableInteraction=!1);n=angular.isString(r.$viewValue)?r.$viewValue.replace(/(^,)|(,$)/g,""):r.$viewValue;f=n;$(t).sparkline(f,u)}}}}]);angular.module("uplus").directive("jqSparkline2",[function(){"use strict";return{restrict:"A",require:"ngModel",link:function(n,t,i,r){var u={},f;u.type=i.type||"bar";u.barWidth="8px";u.barSpacing="1px";u.disableInteraction=!0;n.$watch(i.ngModel,function(){f()});n.$watch(i.opts,function(){f()});f=function(){var n,f;i.opts&&(u.height="60px",u.barWidth="9px",u.disableInteraction=!1);n=angular.isString(r.$viewValue)?r.$viewValue.replace(/(^,)|(,$)/g,""):r.$viewValue;f=n;$(t).sparkline(f,u)}}}}]);window.uplus.setTitleFont=function(){var i=new Uint8Array(3),n,t;i[0]=27;i[1]=33;i[2]=8;n=new Uint8Array(3);n[0]=27;n[1]=33;n[2]=32;t=new Uint8Array(3);t[0]=27;t[1]=33;t[2]=16;bluetoothSerial.write(i,function(){},function(){});bluetoothSerial.write(n,function(){},function(){});bluetoothSerial.write(t,function(){},function(){})};window.uplus.setFontA=function(){bluetoothSerial.write([27,33,0],function(){},function(){})};window.uplus.lineFeed=function(){bluetoothSerial.write([10],function(){},function(){})};window.uplus.alignLeft=function(){var n=new Uint8Array(3);n[0]=27;n[1]=97;n[2]=0;bluetoothSerial.write(n,function(){},function(){})};window.uplus.alignCenter=function(){var n=new Uint8Array(3);n[0]=27;n[1]=97;n[2]=1;bluetoothSerial.write(n,function(){},function(){})};window.uplus.alignRight=function(){var n=new Uint8Array(3);n[0]=27;n[1]=97;n[2]=2;bluetoothSerial.write(n,function(){},function(){})};window.uplus.bold=function(){var n=new Uint8Array(3);n[0]=27;n[1]=33;n[2]=8;bluetoothSerial.write(n,function(){},function(){})};window.uplus.cancelBold=function(){var n=new Uint8Array(3);n[0]=27;n[1]=69;n[2]=0;bluetoothSerial.write(n,function(){},function(){})};window.uplus.printString=function(n){bluetoothSerial.write(n,function(){},function(){})};window.uplus.onFormatTel=function(n){if(!n)return"";if(n.length<10)return n;if(n.length>11){var t=n.slice(0,2),i=n.slice(2,5),r=n.slice(5,8),u=n.slice(8);return t+"-"+i+"-"+r+"-"+u}var t=n.slice(0,3),i=n.slice(3,6),r=n.slice(6);return t+"-"+i+"-"+r};window.uplus.onPrintReceipt=function(n,t,i){var r={CompanyName:"",Address:"",Phone:"",Footer1:"Thank you for your support",Footer2:"Goods sold are not refundable"},f=window.localStorage.getItem("Settings"),u;for(f&&(r=JSON.parse(f)),window.uplus.setTitleFont(),window.uplus.alignCenter(),window.uplus.printString(r.CompanyName),window.uplus.lineFeed(),window.uplus.setFontA(),window.uplus.printString(r.Phone),window.uplus.lineFeed(),window.uplus.printString(r.Address),window.uplus.lineFeed(),window.uplus.lineFeed(),window.uplus.setTitleFont(),u=0;u<t.length;u++)window.uplus.printString(window.uplus.onFormatTel(t[u])),window.uplus.lineFeed();window.uplus.printString(n);window.uplus.lineFeed();window.uplus.printString("RM "+i.toFixed(2));window.uplus.lineFeed();window.uplus.lineFeed();window.uplus.setFontA();window.uplus.printString(r.Footer1);window.uplus.lineFeed();window.uplus.printString(r.Footer2);window.uplus.lineFeed();window.uplus.lineFeed();var e=new Date,o=e.toDateString(),s=e.toLocaleTimeString();window.uplus.printString(o+" "+s);window.uplus.lineFeed();window.uplus.lineFeed();window.uplus.lineFeed();window.uplus.lineFeed()};window.uplus.onPrintDirect=function(n,t,i){var r={CompanyName:"",Address:"",Phone:"",Footer1:"Thank you for your support",Footer2:"Goods sold are not refundable"},u=window.localStorage.getItem("Settings");u&&(r=JSON.parse(u));var f=new Date,e=f.toDateString(),o=f.toLocaleTimeString(),s={CompanyName:r.CompanyName,CompanyPhone:r.Phone,CompanyAddress:r.Address,Phone:window.uplus.onFormatTel(t[0]),Product:n,Amount:"RM "+i.toFixed(2),Footer1:r.Footer1,Footer2:r.Footer2,Timestamp:e+" "+o},h=new MessageEvent("printDirect",{view:window,bubbles:!1,cancelable:!1,data:JSON.stringify(s)});document.dispatchEvent(h)};window.uplus.print=function(n,t,i,r,u){if(typeof bluetoothSerial=="undefined"){window.uplus.onPrintDirect(i,r,u);return}bluetoothSerial.isEnabled(function(){bluetoothSerial.isConnected(function(){window.uplus.onPrintReceipt(i,r,u)},function(){var f="",e=window.localStorage.getItem("Settings");e&&(f=JSON.parse(e).Printer);f?bluetoothSerial.connect(f,function(){window.uplus.onPrintReceipt(i,r,u)},function(n){t.modalBody=rootScope.lang.CONNECT_TO_PRINTER_ERROR+n;t.modalShown=!0;t.$apply()}):bluetoothSerial.list(function(f){f.length===0?(t.modalBody=n.lang.NO_PRINTER,t.modalShown=!0,t.$apply()):bluetoothSerial.connect(f[0].id,function(){window.uplus.onPrintReceipt(i,r,u)},function(n){t.modalBody=rootScope.lang.CONNECT_TO_PRINTER_ERROR+n;t.modalShown=!0;t.$apply()})},function(i){t.modalBody=n.lang.PRINTER_ERROR+i;t.modalShown=!0;t.$apply()})})},function(){t.modalBody=n.lang.BLUETOOTH_DISABLED;t.modalShown=!0;t.$apply()})};app.service("CacheSvc",["$http","$q","CacheFactory",function(n,t,i){return i("dataCache",{maxAge:36e5,cacheFlushInterval:null,deleteOnExpire:"aggressive",storageMode:"sessionStorage"}),{get:function(r){var u=t.defer(),f=i.get("dataCache");return f.get(r)?u.resolve(f.get(r)):n.get(r).success(function(n,t){window.uplus.isSuccess(t)?(f.put(r,n),u.resolve(n)):u.reject(n)}),u.promise},remove:function(n){i.get("dataCache").remove(n)},insert:function(n,t){var u=i.get("dataCache"),r=u.get(n);r&&(r.splice(0,0,t),u.put(n,r))},update:function(n,t){var r=i.get("dataCache");r.put(n,t)}}}]);flexiAppControllers.controller("NavCtrl",["$scope","$rootScope","$http","$location","CacheFactory","notify",function(n,t,i,r,u,f){var o,e;t.moreMenu="";n.showMoreMenu=function(n){n.stopPropagation();$("#ddmenu").toggleClass("drop")};$(document).click(function(){$("#ddmenu").removeClass("drop")});t.currentLanguage=window.localStorage.getItem("language");t.currentLanguage?t.currentLanguage=t.currentLanguage==="MY"?"MY":t.currentLanguage==="CN"?"CN":"EN":(t.currentLanguage="EN",window.localStorage.setItem("language",t.currentLanguage));t.setLanguage=function(n){t.currentLanguage=n==="MY"?"MY":n==="CN"?"CN":"EN";window.localStorage.setItem("language",t.currentLanguage);t.lang=window.uplus[t.currentLanguage];t.pageTitle=t.lang.LANGUAGE};t.lang=window.uplus[t.currentLanguage];t.showSlideout=!1;t.userName="?";t.isAuthenticated=!1;t.extra=1;t.balance=null;n.disabled=!1;t.prevClick=new Date;t.$on("$locationChangeSuccess",function(n,i,r){t.prevLocation=r});o=[{Url:"#/login",Name:"SIGN_IN",Icon:"icon-lock-2"},{Url:"#/forgot-password",Name:"FORGOT_PASSWORD",Icon:"icon-key-2"},{Name:"SMS_MODE",Icon:"icon-smartphone",Data:[{Url:"#/sms-top-up",Name:"TOP_UP",Icon:"icon-hand-coin"},{Url:"#/sms-checking",Name:"CHECKING",Icon:"icon-bubble-ask-2"},{Url:"#/sms-transfer",Name:"TRANSFER",Icon:"icon-transfer-2"}]},{Url:"#/toc",Name:"TOC",Icon:"icon-court"},{Url:"#/privacy-policy",Name:"PRIVACY_POLICY",Icon:"icon-firewall"}];t.links=o;t.loadMenu=function(){i.get("/api/Nav/v2").success(function(n,i){window.uplus.isSuccess(i)&&(o=n,t.links=n)})};t.$on("$routeChangeStart",function(){t.showSlideout=!1;t.moreMenu=""});n.slideOut=function(){t.showSlideout?$("#nav ul").css("height","auto"):setTimeout(function(){$("#nav ul").css("height","97%").css("background","#fff")},300);t.showSlideout=!t.showSlideout;$("#nav").scrollTop(0)};n.$watch("showSlideout",function(){t.showSlideout?$("body").css("overflow","hidden"):$("body").css("overflow","auto")});t.getBalance=function(){n.disabled=!0;i.get("/api/MyBalance").success(function(i,r){n.disabled=!1;window.uplus.isSuccess(r)&&(t.balance=i.Balance)})};t.initPush=function(){if(window.uplus.isPhoneGap()&&!e){e=PushNotification.init({android:{senderID:"670329131867",iconColor:"#4fd2c2"}});e.on("error",function(n){t.$broadcast("OnAjaxError",{msg:n.message})});e.on("registration",function(n){window.localStorage.setItem("deviceHandle",n.registrationId);i.post("/api/Register",{Handle:n.registrationId}).success(function(n,t){window.uplus.isSuccess(t)&&window.localStorage.setItem("registrationID",n.Handle)})});e.on("notification",function(t){var i=null;t.additionalData&&(i=t.additionalData.additionalData);f({message:t.title,url:i});n.$apply()})}};n.onClick=function(n){if(n.Url){t.prevClick=new Date;t.showSlideout=!1;return}n.Visible=n.Visible==-1?1:-1};t.signOut=function(){i.delete("/api/Auth").success(function(i,f){window.uplus.isSuccess(f)&&(t.userName="?",t.isAuthenticated=!1,t.extra=1,n.loadMenu(),u.clearAll(),r.path("/login"))})};window.uplus.isPhoneGap()?r.path("/login"):(i.get("/api/Auth").success(function(n,i){window.uplus.isSuccess(i)?(t.userName=n.Name,t.isAuthenticated=n.IsAuthenticated,t.extra=n.Extra,n.IsAuthenticated&&(t.getBalance(),t.initPush())):(i===408||i===0)&&r.path("/login")}).error(function(n,t){(t===408||t===0)&&r.path("/login")}),t.loadMenu());i.get("/api/Config").success(function(n,t){if(window.uplus.isSuccess(t))window.localStorage.setItem("productList",JSON.stringify(n)),window.products=n;else{var i=window.localStorage.getItem("productList");i&&(window.products=JSON.parse(i))}}).error(function(){var n=window.localStorage.getItem("productList");n&&(window.products=JSON.parse(n))});new Hammer(document.body).on("swiperight",function(t){if(r.path()!="/kiosk"){var i=t.pointers[0].pageX,u=t.distance,f=i-u;f<=25&&t.distance>=100&&(n.slideOut(),n.$apply())}})}]);flexiAppControllers.controller("LoginCtrl",["$rootScope","$scope","$http","$location","CacheFactory","$sce",function(n,t,i,r,u){n.pageTitle=n.lang.APP_NAME+" v1.5.5";n.appIcon="icon-plane-paper-1";r.replace();var f=window.localStorage.getItem("Code");f&&(t.Code=f);t.truncate=function(){t.Code=""};t.isPhoneGap=function(){return window.uplus.isPhoneGap()};t.submitForm=function(f){f.$valid&&(t.modalShown=!1,t.isDisabled=!0,t.Code?window.localStorage.setItem("Code",t.Code):window.localStorage.removeItem("Code"),i.post("/api/Auth?lng="+n.currentLanguage,{Code:t.Code,Password:t.Password,Passcode:window.localStorage.getItem("account-lock")}).success(function(t,i){if(window.uplus.isSuccess(i))if(n.userName=t.Name,n.isAuthenticated=t.IsAuthenticated,n.extra=t.Extra,n.loadMenu(),n.getBalance(),n.initPush(),u.clearAll(),n.returnToUrl&&n.returnToUrl!=="/login"&&n.returnToUrl!=="/announcement"){var f=n.returnToUrl;n.returnToUrl=null;r.path(f)}else n.returnToUrl=null,r.path("/announcement")}))};t.$on("OnAjaxError",function(n,i){t.isDisabled=!1;t.modalBody=i.msg;t.modalShown=!0})}]);flexiAppControllers.controller("ForgotPasswordCtrl",["$rootScope","$scope","$http",function(n,t,i){n.pageTitle=n.lang.FORGOT_PASSWORD;n.appIcon="icon-key-2";t.Phone="";t.Code="";t.NewPassword="";t.ConfirmPassword="";t.step=1;t.goBack=function(n){t.step=n};t.submitPhone=function(r){r.$valid&&(t.modalShown=!1,t.isDisabled=!0,i.get("/api/Reset/"+t.Phone+"?lng="+n.currentLanguage).success(function(n,i){window.uplus.isSuccess(i)&&(t.Code="",t.NewPassword="",t.ConfirmPassword="",t.step=2,t.isDisabled=!1)}))};t.submitCode=function(r){r.$valid&&(t.modalShown=!1,t.isDisabled=!0,i.post("/api/Reset?lng="+n.currentLanguage,{Code:t.Code,Phone:t.Phone}).success(function(n,i){window.uplus.isSuccess(i)&&(t.NewPassword="",t.ConfirmPassword="",t.step=3,t.isDisabled=!1)}))};t.submitPassword=function(r){r.$valid&&(t.modalShown=!1,t.isDisabled=!0,i.put("/api/Reset?lng="+n.currentLanguage,{Code:t.Code,Phone:t.Phone,Password:t.NewPassword}).success(function(n,i){window.uplus.isSuccess(i)&&(t.Phone="",t.Code="",t.NewPassword="",t.ConfirmPassword="",t.step=4,t.isDisabled=!1)}))};t.truncate=function(){t.Phone=""};t.$on("OnAjaxError",function(n,i){t.isDisabled=!1;t.modalBody=i.msg;t.modalShown=!0})}]);flexiAppControllers.controller("ChangePasswordCtrl",["$rootScope","$scope","$http","CacheSvc","notify",function(n,t,i,r,u){n.pageTitle=n.lang.CHANGE_PASSWORD;n.appIcon="icon-lock-2";r.get("/api/Myself").then(function(n){t.current=n});t.submitForm=function(r){r.$valid&&(t.modalShown=!1,t.isDisabled=!0,i.put("/api/Myself?lng="+n.currentLanguage,t.current).success(function(i,f){window.uplus.isSuccess(f)&&(t.isDisabled=!1,u({message:n.lang.PASSWORD_CHANGED}),t.current=i,r.$setPristine(!0))}))};t.$on("OnAjaxError",function(n,i){t.isDisabled=!1;t.modalBody=i.msg;t.modalShown=!0})}]);flexiAppControllers.controller("PrinterCtrl",["$rootScope","$scope","$http","notify",function(n,t,i,r){n.pageTitle=n.lang.PRINTER;n.appIcon="icon-printer";n.moreMenu="show-more-menu";var u=window.localStorage.getItem("Settings");t.current=u?JSON.parse(u):{CompanyName:"",Address:"",Phone:"",Footer1:"Thank you for your support",Footer2:"Goods sold are not refundable",Printer:""};t.showMessage=function(){t.modalBody=n.lang.PHONEGAP_ONLY;t.modalShown=!0};t.submitForm=function(i){i.$valid&&(t.modalShown=!1,t.isDisabled=!0,window.uplus.showLoading(n),window.localStorage.setItem("Settings",JSON.stringify(t.current)),t.isDisabled=!1,window.uplus.hideLoading(n),r({message:n.lang.SAVED}))};t.print=function(){window.uplus.isPhoneGap()?(window.uplus.print(n,t,"Testing",["Testing"],0),r({message:n.lang.PRINT})):t.showMessage()};t.listDevice=function(){if(window.uplus.isPhoneGap()){if(typeof bluetoothSerial=="undefined")return;bluetoothSerial.isEnabled(function(){bluetoothSerial.list(function(i){var u,r;if(i.length===0)t.modalBody=n.lang.NO_PRINTER,t.modalShown=!0,t.$apply();else{for(u=[{id:"",name:""}],r=0;r<i.length;r++)u.push({id:i[r].id,name:i[r].name});t.printers=u}},function(i){t.modalBody=n.lang.PRINTER_ERROR+i;t.modalShown=!0;t.$apply()})},function(){t.modalBody=n.lang.BLUETOOTH_DISABLED;t.modalShown=!0;t.$apply()})}else t.showMessage()};t.listDevice();t.$on("OnAjaxError",function(n,i){t.isDisabled=!1;t.modalBody=i.msg;t.modalShown=!0})}]);flexiAppControllers.controller("LanguageCtrl",["$rootScope","$scope","$http","notify",function(n,t,i,r){n.pageTitle=n.lang.LANGUAGE;n.appIcon="icon-globe-1";t.language=n.currentLanguage;t.submitForm=function(u){u.$valid&&(t.modalShown=!1,t.isDisabled=!0,i.post("/api/Language/"+t.language).success(function(i,u){window.uplus.isSuccess(u)&&(t.isDisabled=!1,n.setLanguage(t.language),r({message:n.lang.SAVED}))}))};t.$on("OnAjaxError",function(n,i){t.isDisabled=!1;t.modalBody=i.msg;t.modalShown=!0})}]);flexiAppControllers.controller("NotificationCtrl",["$rootScope","$scope","$http","CacheSvc","notify",function(n,t,i,r,u){n.pageTitle=n.lang.NOTIFICATION;n.appIcon="icon-bubble-comment-1";var f="/api/Notification";t.current={};window.uplus.isPhoneGap()||(t.modalBody=n.lang.PHONEGAP_ONLY,t.modalShown=!0,t.isDisabled=!0);r.get(f).then(function(n){t.current=n});t.submitForm=function(e){e.$valid&&(t.current.Handle=window.localStorage.getItem("deviceHandle"),t.current.Registration=window.localStorage.getItem("registrationID"),t.current.Handle?t.current.Registration||(t.modalBody=n.lang.GCM_FAILED,t.modalShown=!0):(t.modalBody=n.lang.GCM_FAILED,t.modalShown=!0),t.modalShown=!1,t.isDisabled=!0,i.post(f,t.current).success(function(i,e){window.uplus.isSuccess(e)&&(r.update(f,t.current),t.isDisabled=!1,u({message:n.lang.SAVED}))}))};t.$on("OnAjaxError",function(n,i){t.isDisabled=!1;t.modalBody=i.msg;t.modalShown=!0})}]);flexiAppControllers.controller("PrivacyCtrl",["$rootScope","$scope",function(n,t){n.pageTitle=n.lang.PRIVACY_POLICY;n.appIcon="icon-firewall";t.$on("OnAjaxError",function(n,i){t.modalBody=i.msg;t.modalShown=!0})}]);flexiAppControllers.controller("TocCtrl",["$rootScope","$scope",function(n,t){n.pageTitle=n.lang.TOC;n.appIcon="icon-court";t.$on("OnAjaxError",function(n,i){t.modalBody=i.msg;t.modalShown=!0})}]);flexiAppControllers.controller("NewsCtrl",["$rootScope","$scope","$http","$location","CacheSvc",function(n,t,i,r,u){n.pageTitle=n.lang.NEWS;n.appIcon="icon-radar";n.moreMenu="show-more-menu";var f="/api/News";t.fetchData=function(){u.get(f).then(function(n){t.list=n})};t.add=function(){r.path("/new-news")};t.onClick=function(n){r.path("/edit-news/"+n.Id)};t.refreshData=function(){u.remove(f);t.fetchData()};t.fetchData();t.$on("OnAjaxError",function(n,i){t.isDisabled=!1;t.modalBody=i.msg;t.modalShown=!0})}]);flexiAppControllers.controller("NewNewsCtrl",["$rootScope","$scope","$http","$location","CacheSvc","notify",function(n,t,i,r,u,f){n.pageTitle=n.lang.NEW+" "+n.lang.NEWS;n.appIcon="icon-radar";n.moreMenu="show-more-menu";t.current={Active:!0};t.step="EN";t.editMode=!1;var e="/api/News";t.submitForm=function(n){n.$valid&&(t.modalShown=!1,t.isDisabled=!0,i.post(e,t.current).success(function(n,i){window.uplus.isSuccess(i)&&(t.isDisabled=!1,u.insert(e,n),r.path("/news"))}))};t.delete=function(){r.path("/news")};t.broadcast=function(){if(confirm(n.lang.CONFIRM_BROADCAST)){t.modalShown=!1;t.isDisabled=!0;var r={Url:"/api/Announcement",Title:t.current.Name,Message:t.current.Memo,TagExpression:"news"};i.post("/api/Broadcast",r).success(function(i,r){window.uplus.isSuccess(r)&&(t.isDisabled=!1,f({message:n.lang.BROADCAST}))})}};t.$on("OnAjaxError",function(n,i){t.isDisabled=!1;t.modalBody=i.msg;t.modalShown=!0})}]);flexiAppControllers.controller("EditNewsCtrl",["$rootScope","$scope","$http","$location","$routeParams","CacheSvc","notify",function(n,t,i,r,u,f,e){n.pageTitle=n.lang.EDIT+" "+n.lang.NEWS;n.appIcon="icon-radar";n.moreMenu="show-more-menu";t.step="EN";t.editMode=!0;var o="/api/News/",s="/api/News";t.fetchData=function(){i.get(o+u.id).success(function(n,i){window.uplus.isSuccess(i)&&(t.current=n)})};t.delete=function(){confirm(n.lang.CONFIRM_DELETE)&&i.delete(o+u.id).success(function(n,t){window.uplus.isSuccess(t)&&(f.remove(s),r.path("/news"))})};t.submitForm=function(r){r.$valid&&(t.modalShown=!1,t.isDisabled=!0,i.put(o+u.id,t.current).success(function(i,r){window.uplus.isSuccess(r)&&(f.remove(s),t.isDisabled=!1,e({message:n.lang.SAVED}))}))};t.broadcast=function(){if(confirm(n.lang.CONFIRM_BROADCAST)){t.modalShown=!1;t.isDisabled=!0;var r={Url:"/api/Announcement",Title:t.current.Name,Message:t.current.Memo,TagExpression:"news"};i.post("/api/Broadcast",r).success(function(i,r){window.uplus.isSuccess(r)&&(t.isDisabled=!1,e({message:n.lang.BROADCAST}))})}};t.fetchData();t.$on("OnAjaxError",function(n,i){t.isDisabled=!1;t.modalBody=i.msg;t.modalShown=!0})}]);flexiAppControllers.controller("ErrorLogCtrl",["$rootScope","$scope","$http",function(n,t,i){n.pageTitle=n.lang.ERROR_LOG;n.appIcon="icon-alert-2";n.moreMenu="show-more-menu";t.canLoadMore=!1;var r=50;t.fetchData=function(){i.get("/api/ErrorLog").success(function(n,i){window.uplus.isSuccess(i)&&(t.list=n,t.canLoadMore=n.length>=r)})};t.loadMore=function(){var n=t.list[t.list.length-1].Id;i.get("/api/ErrorLog/"+n).success(function(n,i){window.uplus.isSuccess(i)&&(n.length<r&&(t.canLoadMore=!1),t.list=t.list.concat(n))})};t.delete=function(){for(var f,r=[],u=0;u<t.list.length;u++)f=t.list[u],f.IsChecked&&r.push(f.Id);r.length!==0&&confirm(r.length+n.lang.ITEM_SELECTED+n.lang.CONFIRM_DELETE)&&i.put("/api/ErrorLog",r).success(function(n,i){window.uplus.isSuccess(i)&&(t.list=n)})};t.selectAll=function(){for(var i,n=0;n<t.list.length;n++)i=t.list[n],i.IsChecked=!0};t.onClick=function(n,r){r.target.tagName!="LABEL"&&r.target.tagName!="INPUT"&&i.post("/api/ErrorLog/"+n.Id).success(function(n,i){window.uplus.isSuccess(i)&&(t.current=n,t.paneShown=!0,$("#flyout > div").scrollTop(0))})};t.fetchData();t.$on("OnAjaxError",function(n,i){t.isDisabled=!1;t.modalBody=i.msg;t.modalShown=!0})}]);flexiAppControllers.controller("ModemCtrl",["$rootScope","$scope","$http","$location","CacheSvc",function(n,t,i,r,u){n.pageTitle=n.lang.MODEM;n.appIcon="icon-satellite";n.moreMenu="show-more-menu";var f="/api/Modem";t.fetchData=function(){u.get(f).then(function(n){t.list=n})};t.add=function(){r.path("/new-modem")};t.onClick=function(n){r.path("/edit-modem/"+n.Id)};t.refreshData=function(){u.remove(f);t.fetchData()};t.fetchData();t.$on("OnAjaxError",function(n,i){t.isDisabled=!1;t.modalBody=i.msg;t.modalShown=!0})}]);flexiAppControllers.controller("NewModemCtrl",["$rootScope","$scope","$http","$location","CacheSvc",function(n,t,i,r,u){n.pageTitle=n.lang.NEW+" "+n.lang.MODEM;n.appIcon="icon-satellite";t.current={Active:!0,Product:"Celcom",Port:"None",Mode:"Web",BaudRate:"None"};t.editMode=!1;var f="/api/Modem";for(t.ports=[{id:"None",name:"-- None --"}],idx=1;idx<=256;idx++)t.ports.push({id:"COM"+idx,name:"COM"+idx});t.products=window.products.slice();t.submitForm=function(n){n.$valid&&(t.modalShown=!1,t.isDisabled=!0,i.post(f,t.current).success(function(n,i){window.uplus.isSuccess(i)&&(t.isDisabled=!1,u.insert(f,n),r.path("/modem"))}))};t.delete=function(){r.path("/modem")};t.$on("OnAjaxError",function(n,i){t.isDisabled=!1;t.modalBody=i.msg;t.modalShown=!0})}]);flexiAppControllers.controller("EditModemCtrl",["$rootScope","$scope","$http","$location","$routeParams","CacheSvc","notify",function(n,t,i,r,u,f,e){n.pageTitle=n.lang.EDIT+" "+n.lang.MODEM;n.appIcon="icon-satellite";n.moreMenu="show-more-menu";t.editMode=!0;var o="/api/Modem/",s="/api/Modem";for(t.ports=[{id:"None",name:"-- None --"}],idx=1;idx<=256;idx++)t.ports.push({id:"COM"+idx,name:"COM"+idx});t.products=window.products.slice();t.fetchData=function(){i.get(o+u.id).success(function(n,i){window.uplus.isSuccess(i)&&(t.current=n)})};t.delete=function(){confirm(n.lang.CONFIRM_DELETE)&&i.delete(o+u.id).success(function(n,t){window.uplus.isSuccess(t)&&(f.remove(s),r.path("/modem"))})};t.submitForm=function(r){r.$valid&&(t.modalShown=!1,t.isDisabled=!0,i.put(o+u.id,t.current).success(function(i,r){window.uplus.isSuccess(r)&&(f.remove(s),t.isDisabled=!1,e({message:n.lang.SAVED}))}))};t.fetchData();t.$on("OnAjaxError",function(n,i){t.isDisabled=!1;t.modalBody=i.msg;t.modalShown=!0})}]);flexiAppControllers.controller("ChatsCtrl",["$rootScope","$scope","$http","$location",function(n,t,i,r){n.pageTitle=n.lang.CHATS;n.appIcon="icon-chat-1";n.moreMenu="show-more-menu";t.fetchData=function(){i.get("/api/Chat").success(function(n,i){window.uplus.isSuccess(i)&&(t.list=n)})};t.onClick=function(n){r.path("/chat/"+n.Id)};t.fetchData();t.$on("OnAjaxError",function(n,i){t.isDisabled=!1;t.modalBody=i.msg;t.modalShown=!0})}]);flexiAppControllers.controller("ChatCtrl",["$rootScope","$scope","$http","$routeParams","$timeout",function(n,t,i,r,u){function o(n){t.photo="data:image/jpg;base64,"+n;t.$apply()}function s(n){t.modalBody=n;t.modalShown=!0;t.$apply()}var e,f;n.pageTitle=n.lang.CHATS;n.appIcon="icon-chat-1";n.moreMenu="show-more-menu";t.isPhoneGap=window.uplus.isPhoneGap();t.isDisabled=!1;t.canLoadMore=!1;t.message="";t.photo="";t.display="";t.paneShown=!1;e=50;t.scrollToBottom=function(){u(function(){var n=document.body;window.scrollTo(0,n.scrollHeight)},0,!1)};f=null;t.$on("$destroy",function(){f&&f.destroy()});t.showPhoto=function(n){t.display=n;f?f._reset():f=window.uplus.pinchZoom("currentPhoto");t.paneShown=!0};t.fetchData=function(){i.get("/api/Chat/"+r.id).success(function(i,r){window.uplus.isSuccess(r)&&(n.pageTitle=i.DealerId,t.list=i.Data,t.canLoadMore=i.Data.length>=e,t.scrollToBottom())})};t.loadMore=function(){var n=t.list[0].Id;i.get("/api/Chat/"+r.id+"?lastId="+n).success(function(n,i){window.uplus.isSuccess(i)&&(n.length<e&&(t.canLoadMore=!1),t.list=n.concat(t.list))})};t.send=function(){t.modalShown=!1;t.isDisabled=!0;i.post("/api/Chat/"+r.id,{Memo:t.message,Photo:t.photo}).success(function(n,i){window.uplus.isSuccess(i)&&(t.isDisabled=!1,t.message="",t.photo="",n&&(t.list.push(n),t.scrollToBottom()))})};t.cancel=function(){t.photo=""};t.pick=function(){navigator.camera.getPicture(o,s,{quality:70,destinationType:Camera.DestinationType.DATA_URL,sourceType:Camera.PictureSourceType.PHOTOLIBRARY,allowEdit:!1,encodingType:Camera.EncodingType.JPEG,targetWidth:600,targetHeight:600})};t.fetchData();t.$on("OnAjaxError",function(n,i){t.isDisabled=!1;t.modalBody=i.msg;t.modalShown=!0})}]);flexiAppControllers.controller("AnnouncementCtrl",["$rootScope","$scope","CacheSvc","$http",function(n,t,i,r){var u,f;n.pageTitle=n.lang.ANNOUNCEMENT;n.appIcon="icon-megaphone-1";u="/api/Announcement";n.moreMenu="show-more-menu";t.onLinkClick=function(){n.prevClick=new Date};t.current={};f=window.localStorage.getItem("HasVisitedTenderNumber");t.showNewLabel=f?!1:!0;t.fetchData=function(){i.get(u).then(function(n){t.list=n.slice();t.list.length>0&&(t.current=t.list[0]);n.reverse();t.carousels=n});r.put("/api/Helpline").success(function(n,i){window.uplus.isSuccess(i)&&(t.help=n.Count)})};t.refreshData=function(){i.remove(u);t.fetchData()};t.getSubject=function(){return n.currentLanguage==="MY"&&t.current.NameMY?t.current.NameMY:n.currentLanguage==="CN"&&t.current.NameCN?t.current.NameCN:t.current.Name};t.getMemo=function(){return n.currentLanguage==="MY"&&t.current.MemoMY?t.current.MemoMY:n.currentLanguage==="CN"&&t.current.MemoCN?t.current.MemoCN:t.current.Memo};t.fetchData();t.$on("OnAjaxError",function(n,i){t.modalBody=i.msg;t.modalShown=!0})}]);flexiAppControllers.controller("TopUpCtrl",["$rootScope","$scope","$http","$location",function(n,t,i){var e,f,o;n.pageTitle=n.lang.TOP_UP;n.appIcon="icon-hand-coin";n.moreMenu="show-more-menu";var u=300,r=new Date,s=$("body");t.amount="";t.isDisabled=!1;t.status=n.lang.SENDING;t.selectedProduct=null;t.selectedAmount=0;t.selectedAmountName="";t.selectedPhone="";t.selectedAccount="";t.dragMode=!1;e=15;t.phoneList=[];t.accountList=[];f=[];uplus.db.onReady(function(){uplus.db.Customers.orderByDescending("it.Total").take(e).toArray(function(n){f=n;t.phoneList=n})});t.$on("$locationChangeStart",function(i,r){var f=new Date-n.prevClick<u;if(n.prevLocation&&r===n.prevLocation&&!f)if(t.mode>1&&i.preventDefault(),t.mode==5)t.goBack();else{if(t.mode==6)return;t.mode-1<1?t.goTo(1):t.goTo(t.mode-1)}});t.canShowReset=function(){return t.mode==1};t.reset=function(){t.mode==1&&(window.localStorage.removeItem("products"),t.products=window.products.slice())};t.goTo=function(n){t.mode=n;s.scrollTop(0)};t.preventReorder=function(n){n.preventDefault()};t.hasLastTrx=!1;t.cancel=function(){t.amount="";t.selectedAmount=0;t.selectedAmountName="";t.selectedProduct=null;t.selectedPhone="";t.selectedAccount="";t.mode=1;t.accountList=[];t.phoneList=f;var n=window.sessionStorage.getItem("lastTrx");t.hasLastTrx=n?!0:!1};t.useLastTrx=function(){var i=window.sessionStorage.getItem("lastTrx"),n=JSON.parse(i);t.selectedAmount=n.Amount;t.selectedProduct=n.Product;t.selectedPhone=n.Phone;t.selectedAccount=n.AccountNo;t.selectedAmountName=n.AmountName;t.goTo(5)};t.$on("$routeChangeStart",function(){typeof bluetoothSerial!="undefined"&&bluetoothSerial.isConnected(function(){bluetoothSerial.disconnect(function(){},function(){})},function(){})});t.$on("OnAjaxError",function(n,i){t.isDisabled=!1;t.mode===6?(t.status=i.msg,t.statusColor="#D32F2F",t.statusIcon="icon-alert-circled"):(t.modalBody=i.msg,t.modalShown=!0);$("#marquee").removeClass("hide-div")});t.editProductList=function(){t.dragMode=!t.dragMode};o=function(){var i=window.products.slice(),f=window.localStorage.getItem("products"),r,e,u,n;if(f){for(r=JSON.parse(f),n=0;n<r.length;n++)for(e=r[n],j=0;j<i.length;j++)if(u=i[j],u.id===e.id){u.idx=n;break}i.sort(function(n,t){return n.idx<t.idx?-1:n.idx>t.idx?1:0})}t.products=i};o();t.preventSwipe=function(n){n.preventDefault()};t.beforeWait=function(n){n.target.nodeName=="I"&&n.preventDefault()};t.reorder=function(n,i,r){var u=t.products[r];return t.products.splice(r,1),t.products.splice(i,0,u),window.localStorage.setItem("products",JSON.stringify(t.products)),!0};t.tapProduct=function(n){new Date-r<u||(r=new Date,t.selectedProduct=n,t.amounts=t.selectedProduct.amounts,t.goTo(2),setTimeout(function(){$("#airtime").focus()},300))};t.onClickAmount=function(n,i){isNaN(parseFloat(n))||new Date-r<u||(r=new Date,t.selectedProduct.id=="DiGi Bill"?(t.selectedAmount=parseInt(n),t.amount=parseInt(n)):t.selectedAmount=parseFloat(n),t.selectedAmountName=i,t.selectedPhone="",t.selectedAccount="",t.accountList=[],t.phoneList=f,t.mode=3,setTimeout(function(){$("#phone").focus()},300))};t.onEnterPhone=function(){if(t.selectedPhone&&t.selectedPhone.length>=10){if(new Date-r<u)return;if(r=new Date,t.selectedProduct.hasAccountNo){uplus.db.onReady(function(){uplus.db.Accounts.filter("it.Phone == pname",{pname:t.selectedPhone}).toArray(function(n){t.accountList=n;t.$apply()})});t.selectedAccount="";t.accountList=[];t.mode=4;setTimeout(function(){$("#account").focus()},300)}else t.mode=5,setTimeout(function(){$("#confirm").focus()},300)}};t.find=function(){if(t.selectedPhone&&t.selectedPhone.length>=4)uplus.db.onReady(function(){uplus.db.Customers.filter("it.Id.startsWith(pname)",{pname:t.selectedPhone}).take(e).toArray(function(n){t.phoneList=n;t.$apply()})});else t.phoneList=f};t.onClickPhone=function(n){t.selectedPhone=n.Id;t.onEnterPhone()};t.afterPhoneSwipe=function(n,i){var r=t.phoneList[i];t.phoneList.splice(i,1);uplus.db.onReady(function(){uplus.db.Customers.remove(r);uplus.db.saveChanges()})};t.onEnterAccountNo=function(){if(t.selectedAccount){if(new Date-r<u)return;r=new Date;t.mode=5;setTimeout(function(){$("#confirm").focus()},300)}};t.onClickAccount=function(n){t.selectedAccount=n.Name;t.onEnterAccountNo()};t.afterAccountSwipe=function(n,i){var r=t.accountList[i];t.accountList.splice(i,1);uplus.db.onReady(function(){uplus.db.Accounts.remove(r);uplus.db.saveChanges()})};t.goBack=function(){t.selectedProduct.hasAccountNo?t.mode=4:(t.mode=3,setTimeout(function(){$("#phone").focus()},300))};t.confirm=function(){var e;if(!(new Date-r<u)){r=new Date;t.mode=6;t.statusColor="#1a1a1a";t.statusIcon="icon-information-circled";t.status=n.lang.SENDING;t.isDisabled=!0;e=[{Amount:t.selectedAmount,Product:t.selectedProduct.id,Phone:t.selectedPhone,AccountNo:t.selectedAccount,AmountName:t.selectedAmountName}];window.sessionStorage.setItem("lastTrx",JSON.stringify({Amount:t.selectedAmount,Product:t.selectedProduct,Phone:t.selectedPhone,AccountNo:t.selectedAccount,AmountName:t.selectedAmountName}));var f=t.selectedPhone,s=t.selectedProduct.hasAccountNo,o=t.selectedAccount;uplus.db.onReady(function(){uplus.db.Customers.filter("it.Id == pname",{pname:f}).toArray(function(n){if(n.length>0){var t=n[0];uplus.db.Customers.attach(t);t.Total++}else uplus.db.Customers.add({Id:f,Total:1});s?uplus.db.Accounts.filter("it.Phone == this.p1 && it.Name == this.p2",{p1:f,p2:o}).toArray(function(n){n.length===0&&(uplus.db.Accounts.add({Phone:f,Name:o}),uplus.db.saveChanges())}):uplus.db.saveChanges()})});$("#marquee").addClass("hide-div");i.post("/api/Topup?lng="+n.currentLanguage,e).success(function(i,r){window.uplus.isSuccess(r)&&(n.balance=i.Balance,t.statusColor="#1a1a1a",t.statusIcon="icon-information-circled",t.status=n.lang.BALANCE+": RM "+i.Balance.toFixed(3),t.isDisabled=!1,setTimeout(function(){$("#back").focus()},300),$("#marquee").removeClass("hide-div"))})}};t.toPay=function(){if(t.selectedProduct)return t.selectedProduct.hasExtra?t.selectedAmount*n.extra:t.selectedAmount};t.print=function(){var u=[],r,i;t.selectedPhone&&(r=t.selectedPhone,t.selectedAccount&&r+" # "+t.selectedAccount,u.push(r));i=t.selectedProduct.name;t.selectedAmount.name&&(i=t.selectedAmount.name+i);window.uplus.print(n,t,i,u,t.selectedAmount)};t.cancel()}]);flexiAppControllers.controller("StatusCtrl",["$rootScope","$scope","$http",function(n,t,i){var r,u,f;n.pageTitle=n.lang.STATUS;n.appIcon="icon-star-5";t.canLoadMore=!1;t.isDisabled=!1;t.copyText=n.lang.COPY;t.isFindMode=!1;t.filters=window.uplus.getDates(90,n);t.filter=t.filters[0];r=50;t.fetchData=function(){t.isDisabled=!0;var n="/api/Status";t.filter&&(n+="/"+t.filter.id);i.get(n).success(function(n,i){window.uplus.isSuccess(i)&&(t.list=n,t.isDisabled=!1,t.canLoadMore=n.length>=r)})};t.canPrintReceipt=function(){return window.uplus.isPhoneGap()};u=function(){t.modalShown=!1;t.paneShown=!1;t.$apply()};f=function(n){t.modalBody=n;t.modalShown=!0;t.paneShown=!1;t.$apply()};t.sms=function(){var i,e,o,r;confirm(n.lang.CONFIRM_SMS_RECEIPT+window.uplus.onFormatTel(t.current.Phone)+"?")&&(i="eLoad Club Receipt\n",i+=window.uplus.onFormatTel(t.current.Phone)+"\n",t.current.AccountNo&&(i+="A/C: "+t.current.AccountNo+"\n"),i+=t.current.Product+"\n",t.current.AmountName&&(i+=t.current.AmountName+"\n"),i+="RM "+t.current.Amount.toFixed(2)+"\n",e=new Date(t.current.CreatedOn).toDateString(),o=new Date(t.current.CreatedOn).toLocaleTimeString(),i+=e+" "+o,i+="\n\n",i+="Thank you for your support",r=window.uplus.getSmsConfig(),r.replaceLineBreaks=!0,sms.send(t.current.Phone,i,r,u,f))};t.$on("$routeChangeStart",function(){typeof bluetoothSerial!="undefined"&&bluetoothSerial.isConnected(function(){bluetoothSerial.disconnect(function(){},function(){})},function(){})});t.loadMore=function(){var u=t.list[t.list.length-1].Id,n="/api/Status";t.filter&&(n+="/"+t.filter.id);i.get(n+"?q="+u).success(function(n,i){window.uplus.isSuccess(i)&&(n.length<r&&(t.canLoadMore=!1),t.list=t.list.concat(n))})};t.onChange=function(){t.fetchData()};t.next=function(){var n=document.getElementById("dateFilter"),i=n.selectedIndex;i!==0&&(n.selectedIndex--,t.filter=t.filters[i-1],t.fetchData())};t.previous=function(){var n=document.getElementById("dateFilter"),i=n.selectedIndex;i!==t.filters.length-1&&(n.selectedIndex++,t.filter=t.filters[i+1],t.fetchData())};t.onClick=function(n){i.get("/api/TopUp/"+n.Id).success(function(n,i){window.uplus.isSuccess(i)&&(t.current=n,t.paneShown=!0,$("#flyout > div").scrollTop(0))})};t.isCopySupported=function(){return document.queryCommandSupported("copy")};t.find=function(){t.isFindMode?(t.isFindMode=!1,t.findText="",t.fetchData()):(t.isFindMode=!0,setTimeout(function(){$("#phone").focus()},300))};t.onFind=function(){t.findText&&i.put("/api/Status/"+t.findText).success(function(n,i){window.uplus.isSuccess(i)&&(n.length<r&&(t.canLoadMore=!1),t.list=n)})};t.copy=function(){var i=document.createElement("textarea");i.style.position="fixed";i.style.top=0;i.style.left=0;i.style.width="2em";i.style.height="2em";i.style.padding=0;i.style.border="none";i.style.outline="none";i.style.boxShadow="none";i.style.background="transparent";i.value=t.current.Phone;document.body.appendChild(i);i.select();document.execCommand("copy");document.body.removeChild(i);t.isDisabled=!0;t.copyText=n.lang.COPIED;setTimeout(function(){t.copyText=n.lang.COPY;t.isDisabled=!1;t.$apply()},1e3)};t.print=function(){var r=[],u=t.current.Phone,i;t.current.AccountNo&&u+" # "+t.current.AccountNo;r.push(u);i=t.current.Product;t.current.AmountName&&(i=t.current.AmountName+i);window.uplus.print(n,t,i,r,t.current.Amount)};t.fetchData();t.$on("OnAjaxError",function(n,i){t.isDisabled=!1;t.modalBody=i.msg;t.modalShown=!0})}]);flexiAppControllers.controller("KioskCtrl",["$rootScope","$scope","$http",function(n,t,i){var c,o,r,u,f;n.pageTitle=n.lang.KIOSK;n.appIcon="icon-shopping-1";var h=300,e=new Date,s={},l=$("body");t.amount="";t.isDisabled=!1;t.status=n.lang.SENDING;t.selectedProduct=null;t.selectedAmount=0;t.selectedAmountName="";t.selectedPhone="";t.selectedAccount="";c=!1;t.$on("$locationChangeStart",function(n){if(!c)if(n.preventDefault(),t.mode==5)t.stepBack();else{if(t.mode==6||t.mode==0)return;t.goBack(t.mode-1)}});t.onSignOut=function(){$("#header,#marquee").removeClass("hide-div");c=!0;n.signOut()};t.products=window.products.slice();window.uplus.isPhoneGap()?(o=new Media("/android_asset/www/audio/click.mp3"),r={},r.step1=new Media("/android_asset/www/audio/ZH_1.mp3"),r.step2=new Media("/android_asset/www/audio/ZH_2.mp3"),r.step3=new Media("/android_asset/www/audio/ZH_3.mp3"),r.step4=new Media("/android_asset/www/audio/ZH_4.mp3"),r.step5=new Media("/android_asset/www/audio/ZH_5.mp3"),r.step6=new Media("/android_asset/www/audio/ZH_6.mp3"),u={},u.step1=new Media("/android_asset/www/audio/EN_1.mp3"),u.step2=new Media("/android_asset/www/audio/EN_2.mp3"),u.step3=new Media("/android_asset/www/audio/EN_3.mp3"),u.step4=new Media("/android_asset/www/audio/EN_4.mp3"),u.step5=new Media("/android_asset/www/audio/EN_5.mp3"),u.step6=new Media("/android_asset/www/audio/EN_6.mp3"),f={},f.step1=new Media("/android_asset/www/audio/NULL.mp3"),f.step2=new Media("/android_asset/www/audio/NULL.mp3"),f.step3=new Media("/android_asset/www/audio/NULL.mp3"),f.step4=new Media("/android_asset/www/audio/NULL.mp3"),f.step5=new Media("/android_asset/www/audio/NULL.mp3"),f.step6=new Media("/android_asset/www/audio/NULL.mp3")):(o=new Howl({src:["audio/click.ogg","audio/click.mp3"]}),r={},r.step1=new Howl({src:["audio/ZH_1.ogg","audio/ZH_1.mp3"]}),r.step2=new Howl({src:["audio/ZH_2.ogg","audio/ZH_2.mp3"]}),r.step3=new Howl({src:["audio/ZH_3.ogg","audio/ZH_3.mp3"]}),r.step4=new Howl({src:["audio/ZH_4.ogg","audio/ZH_4.mp3"]}),r.step5=new Howl({src:["audio/ZH_5.ogg","audio/ZH_5.mp3"]}),r.step6=new Howl({src:["audio/ZH_6.ogg","audio/ZH_6.mp3"]}),u={},u.step1=new Howl({src:["audio/EN_1.ogg","audio/EN_1.mp3"]}),u.step2=new Howl({src:["audio/EN_2.ogg","audio/EN_2.mp3"]}),u.step3=new Howl({src:["audio/EN_3.ogg","audio/EN_3.mp3"]}),u.step4=new Howl({src:["audio/EN_4.ogg","audio/EN_4.mp3"]}),u.step5=new Howl({src:["audio/EN_5.ogg","audio/EN_5.mp3"]}),u.step6=new Howl({src:["audio/EN_6.ogg","audio/EN_6.mp3"]}),f={},f.step1=new Howl({src:["audio/NULL.ogg","audio/NULL.mp3"]}),f.step2=new Howl({src:["audio/NULL.ogg","audio/NULL.mp3"]}),f.step3=new Howl({src:["audio/NULL.ogg","audio/NULL.mp3"]}),f.step4=new Howl({src:["audio/NULL.ogg","audio/NULL.mp3"]}),f.step5=new Howl({src:["audio/NULL.ogg","audio/NULL.mp3"]}),f.step6=new Howl({src:["audio/NULL.ogg","audio/NULL.mp3"]}));window.uplus.isPhoneGap()&&window.plugins.insomnia.keepAwake();t.$on("$routeChangeStart",function(){c&&(window.uplus.isPhoneGap()&&window.plugins.insomnia.allowSleepAgain(),window.uplus.isPhoneGap()?(o.release(),r.step1.release(),r.step2.release(),r.step3.release(),r.step4.release(),r.step5.release(),r.step6.release(),u.step1.release(),u.step2.release(),u.step3.release(),u.step4.release(),u.step5.release(),u.step6.release(),f.step1.release(),f.step2.release(),f.step3.release(),f.step4.release(),f.step5.release(),f.step6.release()):(o.unload(),r.step1.unload(),r.step2.unload(),r.step3.unload(),r.step4.unload(),r.step5.unload(),r.step6.unload(),u.step1.unload(),u.step2.unload(),u.step3.unload(),u.step4.unload(),u.step5.unload(),u.step6.unload(),f.step1.unload(),f.step2.unload(),f.step3.unload(),f.step4.unload(),f.step5.unload(),f.step6.unload()),typeof bluetoothSerial!="undefined")&&bluetoothSerial.isConnected(function(){bluetoothSerial.disconnect(function(){},function(){})},function(){})});t.$on("OnAjaxError",function(n,i){t.isDisabled=!1;t.mode===6?t.status=i.msg:(t.modalBody=i.msg,t.modalShown=!0)});t.cancel=function(){t.amount="";t.selectedAmount=0;t.selectedAmountName="";t.selectedProduct=null;t.selectedPhone="";t.selectedAccount="";t.mode=0};t.goTo=function(n){t.mode=n;l.scrollTop(0);for(var i=1;i<=6;i++)s["step"+i].stop();s["step"+n].play()};t.goToWithoutAudio=function(n){t.mode=n;l.scrollTop(0);for(var i=1;i<=6;i++)s["step"+i].stop()};t.goBack=function(n){new Date-e<h||(e=new Date,o.play(),t.goTo(n))};t.changeLanguage=function(i){new Date-e<h||(e=new Date,o.play(),n.setLanguage(i),s=i=="MY"?f:i=="CN"?r:u,t.goTo(1))};t.tapProduct=function(n){new Date-e<h||(e=new Date,o.play(),t.selectedProduct=n,t.amounts=t.selectedProduct.amounts,t.goTo(2))};t.onClickAmount=function(n,i){isNaN(parseFloat(n))||new Date-e<h||(e=new Date,o.play(),t.selectedAmount=parseFloat(n),t.selectedAmountName=i,t.selectedPhone="",t.selectedAccount="",t.goTo(3))};t.onEnterPhone=function(){if(t.selectedPhone&&t.selectedPhone.length>=10){if(new Date-e<h)return;e=new Date;o.play();t.selectedProduct.hasAccountNo?(t.selectedAccount="",t.goTo(4)):(t.goTo(5),setTimeout(function(){$("#confirm").focus()},300))}};t.onEnterAccountNo=function(){if(t.selectedAccount){if(new Date-e<h)return;e=new Date;o.play();t.goTo(5);setTimeout(function(){$("#confirm").focus()},300)}};t.stepBack=function(){t.selectedProduct.hasAccountNo?(t.selectedAccount="",t.goBack(4)):(t.selectedPhone="",t.goBack(3))};t.print=function(){var u=[],r,i;t.selectedPhone&&(r=t.selectedPhone,t.selectedAccount&&r+" # "+t.selectedAccount,u.push(r));i=t.selectedProduct.name;t.selectedAmount.name&&(i=t.selectedAmount.name+i);window.uplus.print(n,t,i,u,t.selectedAmount)};t.confirm=function(){if(!(new Date-e<h)){e=new Date;o.play();t.goToWithoutAudio(6);t.status=n.lang.SENDING;t.isDisabled=!0;var r={Amount:t.selectedAmount,Product:t.selectedProduct.id,Phone:t.selectedPhone,AccountNo:t.selectedAccount,AmountName:t.selectedAmountName};i.post("/api/Kiosk",r).success(function(i,r){window.uplus.isSuccess(r)&&(s.step6.play(),t.status=n.lang.KIOSK_F,t.isDisabled=!1,setTimeout(function(){$("#back").focus()},300),setTimeout(function(){$("#back").focus()},300),setTimeout(function(){t.mode==6&&(t.cancel(),t.$apply())},5e3),t.print())})}};t.play=function(){o.play()};t.startPage=function(){s.step6.stop();o.play();t.cancel()};t.cancel();$("#header,#marquee").addClass("hide-div")}]);flexiAppControllers.controller("ProcessOrderCtrl",["$rootScope","$scope","$http",function(n,t,i){n.pageTitle=n.lang.PROCESS_ORDER;n.appIcon="icon-ink";n.moreMenu="show-more-menu";t.fetchData=function(){t.isDisabled=!0;i.get("/api/Kiosk").success(function(n,i){window.uplus.isSuccess(i)&&(t.list=n,t.isDisabled=!1)})};t.delete=function(){for(var f,r=[],u=0;u<t.list.length;u++)f=t.list[u],f.IsChecked&&r.push(f.Id);r.length!==0&&confirm(r.length+n.lang.ITEM_SELECTED+n.lang.CONFIRM_DELETE)&&(t.isDisabled=!0,i.put("/api/Kiosk",r).success(function(n,i){window.uplus.isSuccess(i)&&(t.list=n,t.isDisabled=!1)}))};t.onClick=function(n,i){i.target.tagName!="LABEL"&&i.target.tagName!="INPUT"&&(t.current=n,t.paneShown=!0,$("#flyout > div").scrollTop(0))};t.confirm=function(){t.isDisabled=!0;i.put("/api/Kiosk/"+t.current.Id+"?lng="+n.currentLanguage).success(function(i,r){if(window.uplus.isSuccess(r)){var u=t.list.indexOf(t.current);u>-1&&t.list.splice(u,1);n.balance=i.Balance;t.isDisabled=!1;t.paneShown=!1}})};t.fetchData();t.$on("OnAjaxError",function(n,i){t.isDisabled=!1;t.modalBody=i.msg;t.modalShown=!0})}]);flexiAppControllers.controller("HelplineCtrl",["$rootScope","$scope","$http","$timeout",function(n,t,i,r){function e(n){t.photo="data:image/jpg;base64,"+n;t.$apply()}function o(n){t.modalBody=n;t.modalShown=!0;t.$apply()}var f,u;n.pageTitle=n.lang.HELPLINE;n.appIcon="icon-chat-1";n.moreMenu="show-more-menu";t.isPhoneGap=window.uplus.isPhoneGap();t.isDisabled=!1;t.canLoadMore=!1;t.message="";t.photo="";t.display="";t.paneShown=!1;f=50;t.scrollToBottom=function(){r(function(){var n=document.body;window.scrollTo(0,n.scrollHeight)},0,!1)};u=null;t.$on("$destroy",function(){u&&u.destroy()});t.showPhoto=function(n){t.display=n;u?u._reset():u=window.uplus.pinchZoom("currentPhoto");t.paneShown=!0};t.fetchData=function(){i.get("/api/Helpline").success(function(n,i){window.uplus.isSuccess(i)&&(t.list=n,t.canLoadMore=n.length>=f,t.scrollToBottom())})};t.loadMore=function(){var n=t.list[0].Id;i.get("/api/Helpline/"+n).success(function(n,i){window.uplus.isSuccess(i)&&(n.length<f&&(t.canLoadMore=!1),t.list=n.concat(t.list))})};t.send=function(){t.modalShown=!1;t.isDisabled=!0;i.post("/api/Helpline",{Memo:t.message,Photo:t.photo}).success(function(n,i){window.uplus.isSuccess(i)&&(t.isDisabled=!1,t.message="",t.photo="",n&&(t.list.push(n),t.scrollToBottom()))})};t.cancel=function(){t.photo=""};t.pick=function(){navigator.camera.getPicture(e,o,{quality:70,destinationType:Camera.DestinationType.DATA_URL,sourceType:Camera.PictureSourceType.PHOTOLIBRARY,allowEdit:!1,encodingType:Camera.EncodingType.JPEG,targetWidth:600,targetHeight:600})};t.fetchData();t.$on("OnAjaxError",function(n,i){t.isDisabled=!1;t.modalBody=i.msg;t.modalShown=!0})}]);flexiAppControllers.controller("UserCtrl",["$rootScope","$scope","$http","$location","CacheSvc",function(n,t,i,r,u){n.pageTitle=n.lang.USER;n.appIcon="icon-user-2";n.moreMenu="show-more-menu";var f="/api/User";t.fetchData=function(){u.get(f).then(function(n){t.list=n})};t.add=function(){r.path("/new-user")};t.onClick=function(n){r.path("/edit-user/"+n.Id)};t.refreshData=function(){u.remove(f);t.fetchData()};t.fetchData();t.$on("OnAjaxError",function(n,i){t.modalBody=i.msg;t.modalShown=!0})}]);flexiAppControllers.controller("EditUserCtrl",["$rootScope","$scope","$http","$location","$routeParams","CacheSvc","notify",function(n,t,i,r,u,f,e){n.pageTitle=n.lang.EDIT+" "+n.lang.USER;n.appIcon="icon-user-2";n.moreMenu="show-more-menu";t.editMode=!0;var o="/api/User/",s="/api/User";t.fetchData=function(){i.get(o+u.id).success(function(n,i){window.uplus.isSuccess(i)&&(t.current=n)})};t.delete=function(){confirm(n.lang.CONFIRM_DELETE)&&i.delete(o+u.id+"?lng="+n.currentLanguage).success(function(n,t){window.uplus.isSuccess(t)&&(f.remove(s),r.path("/user"))})};t.submitForm=function(r){r.$valid&&(t.modalShown=!1,t.isDisabled=!0,i.put(o+u.id,t.current).success(function(i,r){window.uplus.isSuccess(r)&&(f.remove(s),t.isDisabled=!1,e({message:n.lang.SAVED}))}))};t.truncate=function(){t.current.Code=""};t.fetchData();t.$on("OnAjaxError",function(n,i){t.isDisabled=!1;t.modalBody=i.msg;t.modalShown=!0})}]);flexiAppControllers.controller("NewUserCtrl",["$rootScope","$scope","$http","$location","CacheSvc",function(n,t,i,r,u){n.pageTitle=n.lang.NEW+" "+n.lang.USER;n.appIcon="icon-user-2";t.current={Active:!0,CanViewAllTopUp:!0,CanManageAccount:!0,CanManageDealer:!0};t.editMode=!1;var f="/api/User";t.submitForm=function(e){e.$valid&&(t.modalShown=!1,t.isDisabled=!0,i.post(f+"?lng="+n.currentLanguage,t.current).success(function(n,i){window.uplus.isSuccess(i)&&(t.isDisabled=!1,u.insert(f,n),r.path("/user"))}))};t.truncate=function(){t.current.Code=""};t.delete=function(){r.path("/user")};t.$on("OnAjaxError",function(n,i){t.isDisabled=!1;t.modalBody=i.msg;t.modalShown=!0})}]);flexiAppControllers.controller("PurchaseHistoryCtrl",["$rootScope","$scope","$http","$location","CacheSvc",function(n,t,i){var r,u,f;n.pageTitle=n.lang.PURCHASE_HISTORY;n.appIcon="icon-receipt-1";n.moreMenu="show-more-menu";r=null;t.$on("$destroy",function(){r&&r.destroy()});u="/api/PurchaseHistory";t.canLoadMore=!1;f=50;t.fetchData=function(){i.get(u).success(function(n,i){window.uplus.isSuccess(i)&&(t.list=n,t.canLoadMore=n.length>=f)})};t.loadMore=function(){var n=t.list[t.list.length-1].Id;i.get(u+"/"+n).success(function(n,i){window.uplus.isSuccess(i)&&(n.length<f&&(t.canLoadMore=!1),t.list=t.list.concat(n))})};t.getClassName=function(n){return n.Status==="Pending"?"icon-hourglass":n.Status==="Failed"?"icon-exclamation":n.Amount>0?"icon-android-arrow-up":"icon-android-arrow-down"};t.refreshData=function(){t.fetchData()};t.onClick=function(n){i.get("/api/PurchaseOrder/"+n.Id).success(function(n,i){window.uplus.isSuccess(i)&&(t.current=n,t.paneShown=!0,$("#flyout > div").scrollTop(0),r?mc_reset():r=window.uplus.pinchZoom("currentPhoto"))})};t.cancel=function(){confirm(n.lang.CONFIRM_CANCEL)&&(t.modalShown=!1,t.isDisabled=!0,i.delete("/api/PurchaseOrder/"+t.current.Id+"?lng="+n.currentLanguage).success(function(n,i){window.uplus.isSuccess(i)&&(t.isDisabled=!1,t.paneShown=!1,t.refreshData())}))};t.fetchData();t.$on("OnAjaxError",function(n,i){t.isDisabled=!1;t.modalBody=i.msg;t.modalShown=!0})}]);flexiAppControllers.controller("ProfileCtrl",["$rootScope","$scope","$http","notify",function(n,t,i,r){n.pageTitle=n.lang.PROFILE;n.appIcon="icon-profile-gentleman-1";t.step=1;t.fetchData=function(){i.get("/api/Profile").success(function(n,i){window.uplus.isSuccess(i)&&(t.current=n)})};t.submitForm=function(u){u.$valid&&(t.modalShown=!1,t.isDisabled=!0,i.put("/api/Profile",t.current).success(function(i,u){window.uplus.isSuccess(u)&&(t.isDisabled=!1,r({message:n.lang.SAVED}))}))};t.fetchData();t.goTo=function(n){t.step=n;$("body").scrollTop(0)};t.$on("OnAjaxError",function(n,i){t.isDisabled=!1;t.modalBody=i.msg;t.modalShown=!0})}]);flexiAppControllers.controller("PurchaseAirtimeCtrl",["$rootScope","$scope","$http","$location","CacheSvc",function(n,t,r,u,f){function s(n){t.current.Photo="data:image/jpg;base64,"+n;t.$apply()}function h(n){t.modalBody=n;t.modalShown=!0;t.$apply()}var o,e;n.pageTitle=n.lang.PURCHASE_AIRTIME;n.appIcon="icon-atm";t.filters=window.uplus.getDates(10,n);t.filter=t.filters[0];o=Date.now();t.isPhoneGap=window.uplus.isPhoneGap();t.current={Amount:null,Bank:null,Photo:null,Day:o.toString("dd-MM-yyyy"),Hour:o.toString("hh"),Min:o.toString("mm"),Time:o.toString("tt"),isApp:t.isPhoneGap};t.showLightbox=!1;t.step=0;e=null;t.$on("$destroy",function(){e&&e.destroy()});t.goTo=function(i){t.step=i;$("body").scrollTop(0);n.moreMenu=i===1&&t.isPhoneGap?"show-more-menu":""};t.showPhoto=function(){e?e._reset():e=window.uplus.pinchZoom("currentPhoto");t.paneShown=!0};t.onSelectBank=function(n){t.current.Bank=n.value;t.goTo(1)};t.pickPhoto=function(){navigator.camera.getPicture(s,h,{quality:80,destinationType:Camera.DestinationType.DATA_URL,sourceType:Camera.PictureSourceType.PHOTOLIBRARY,allowEdit:!1,encodingType:Camera.EncodingType.JPEG,targetWidth:600,targetHeight:600})};t.takePhoto=function(){navigator.camera.getPicture(s,h,{quality:80,destinationType:Camera.DestinationType.DATA_URL,sourceType:Camera.PictureSourceType.CAMERA,allowEdit:!1,encodingType:Camera.EncodingType.JPEG,targetWidth:600,targetHeight:600})};t.submitForm=function(i){var e,o;i.$valid&&(t.current.Bank&&(e=t.current.Bank.indexOf("@"),e>-1&&(o=t.current.Bank.substring(0,e),o!=="1"&&!confirm(t.modalBody=n.lang.DISCLAIMER)))||(t.modalShown=!1,t.isDisabled=!0,r.post("/api/PurchaseOrder",t.current).success(function(n,i){window.uplus.isSuccess(i)&&(t.isDisabled=!1,f.insert("/api/PurchaseHistory",n),u.path("/purchase-history"))})))};f.get("/api/Bank").then(function(n){t.options=n;t.banks=[];var r=null;for(i=0;i<n.length;i++)r=n[i],t.banks.push({value:r.Id+"@"+r.Bank+" # "+r.AccountNo,name:r.Bank+" - "+r.AccountName}),r.value=r.Id+"@"+r.Bank+" # "+r.AccountNo});t.$on("OnAjaxError",function(n,i){t.isDisabled=!1;t.modalBody=i.msg;t.modalShown=!0})}]);flexiAppControllers.controller("TopUpSummaryCtrl",["$rootScope","$scope","$http",function(n,t,i){n.pageTitle=n.lang.TOPUP_SUMMARY;n.appIcon="icon-business-chart-2";t.isDisabled=!1;t.filters=window.uplus.getDatesOnly(90);t.fromDate=t.filters[0];t.toDate=t.filters[0];t.fetchData=function(){t.isDisabled=!0;var n="/api/TopUpSummary?f="+t.fromDate.id+"&t="+t.toDate.id;i.get(n).success(function(n,i){window.uplus.isSuccess(i)&&(t.list=n,t.isDisabled=!1)})};t.fetchData();t.$on("OnAjaxError",function(n,i){t.isDisabled=!1;t.modalBody=i.msg;t.modalShown=!0})}]);flexiAppControllers.controller("WeeklyTrendCtrl",["$rootScope","$scope","$http",function(n,t,i){for(var u=Date.today().addWeeks(-12).moveToDayOfWeek(0,-1),f=Date.today(),e=[],r=u.clone(),o;r<=f;)e.push(r.clone()),r=r.addWeeks(1);n.pageTitle=n.lang.WEEKLY_TREND+" "+u.toString("d/M")+" - "+f.toString("d/M/yyyy");n.appIcon="icon-business-chart-2";t.isDisabled=!1;t.step=1;o=function(n){for(var f,t,r=!1,u,i=0;i<e.length;i++){for(u=e[i],r=!1,t=0;t<n.Data.length;t++)if(n.Data[t].Week&&u.getTime()==new Date(n.Data[t].Week).clearTime().getTime()){r=!0;break}r||n.Data.splice(i+1,0,{Week:u.clone(),Amount:0})}for(f=[],t=0;t<n.Data.length;t++)n.Data[t].Week&&f.push(n.Data[t].Amount);n.Nums=f};t.fetchData=function(){t.isDisabled=!0;var n="/api/WeeklyTrend?f="+u.toString("dd-MM-yyyy")+"&t="+f.toString("dd-MM-yyyy")+"&mode="+t.step;i.get(n).success(function(n,i){if(window.uplus.isSuccess(i)){for(var r=0;r<n.length;r++)o(n[r]);t.list=n;t.isDisabled=!1}})};t.onClick=function(n){t.current=n;t.paneShown=!0;$("#flyout > div").scrollTop(0)};t.changeStep=function(n){t.step!=n&&(t.step=n,t.fetchData())};t.fetchData();t.$on("OnAjaxError",function(n,i){t.isDisabled=!1;t.modalBody=i.msg;t.modalShown=!0})}]);flexiAppControllers.controller("BonusTrendCtrl",["$rootScope","$scope","$http",function(n,t,i){for(var u=Date.today().addDays(-31),f=Date.today(),e=[],r=u.clone(),o;r<=f;)e.push(r.clone()),r=r.addDays(1);n.pageTitle=n.lang.BONUS_TREND+" "+u.toString("d/M")+" - "+f.toString("d/M/yyyy");n.appIcon="icon-business-chart-2";t.isDisabled=!1;o=function(n){for(var f,t,r=!1,u,i=0;i<e.length;i++){for(u=e[i],r=!1,t=0;t<n.Data.length;t++)if(n.Data[t].Day&&u.getTime()==new Date(n.Data[t].Day).clearTime().getTime()){r=!0;break}r||n.Data.splice(i+1,0,{Day:u.clone(),Amount:0})}for(f=[],t=0;t<n.Data.length;t++)n.Data[t].Day&&f.push(n.Data[t].Amount);n.Nums=f};t.fetchData=function(){t.isDisabled=!0;var n="/api/BonusTrend?f="+u.toString("dd-MM-yyyy")+"&t="+f.toString("dd-MM-yyyy");i.get(n).success(function(n,i){if(window.uplus.isSuccess(i)){for(var r=0;r<n.length;r++)o(n[r]);t.list=n;t.isDisabled=!1}})};t.onClick=function(n){t.current=n;t.paneShown=!0;$("#flyout > div").scrollTop(0)};t.getName=function(t){return t.Name==="0"?n.lang.TOPUP_REBATE:t.Name==="20"?n.lang.MEMBER_REBATE:t.Name};t.fetchData();t.$on("OnAjaxError",function(n,i){t.isDisabled=!1;t.modalBody=i.msg;t.modalShown=!0})}]);flexiAppControllers.controller("ExportInvoiceCtrl",["$rootScope","$scope","$http","CacheSvc",function(n,t,i,r){n.pageTitle=n.lang.EXPORT_INVOICE;n.appIcon="icon-box-download";t.isPhoneGap=window.uplus.isPhoneGap();t.filters=window.uplus.getMonths(13);var u="/api/Invoicing";t.isPhoneGap&&(t.modalBody=n.lang.WEB_ONLY,t.modalShown=!0);t.fetchData=function(){t.isDisabled=!0;r.get(u).then(function(n){t.current=n;t.current.Month=t.filters[0].id;t.isDisabled=!1})};t.submitForm=function(n){n.$valid&&(t.modalShown=!1,t.isDisabled=!0,window.open(window.uplus.baseUrl+"/api/Invoicing/"+t.current.Month+"?companyName="+encodeURIComponent(t.current.CompanyName)+"&phone="+encodeURIComponent(t.current.Phone)+"&address="+encodeURIComponent(t.current.Address),"_blank",""),r.update(u,{CompanyName:t.current.CompanyName,Phone:t.current.Phone,Address:t.current.Address}),t.isDisabled=!1)};t.fetchData();t.$on("OnAjaxError",function(n,i){t.isDisabled=!1;t.modalBody=i.msg;t.modalShown=!0})}]);flexiAppControllers.controller("BalanceHistoryCtrl",["$rootScope","$scope","$http",function(n,t,i){var r,u;n.pageTitle=n.lang.BALANCE_HISTORY;n.appIcon="icon-dollar-bag";n.moreMenu="show-more-menu";r="/api/BalanceHistory/";t.canLoadMore=!1;t.isDisabled=!1;t.filters=window.uplus.getDates(90,n);t.filter=t.filters[0];u=50;t.fetchData=function(){t.isDisabled=!0;i.get(r+t.filter.id).success(function(n,i){window.uplus.isSuccess(i)&&(t.list=n,t.isDisabled=!1,t.canLoadMore=n.length>=u)})};t.loadMore=function(){var n=t.list[t.list.length-1].Id;i.get(r+"/"+t.filter.id+"?q="+n).success(function(n,i){window.uplus.isSuccess(i)&&(n.length<u&&(t.canLoadMore=!1),t.list=t.list.concat(n))})};t.onChange=function(){t.fetchData()};t.next=function(){var n=document.getElementById("dateFilter"),i=n.selectedIndex;i!==0&&(n.selectedIndex--,t.filter=t.filters[i-1],t.fetchData())};t.previous=function(){var n=document.getElementById("dateFilter"),i=n.selectedIndex;i!==t.filters.length-1&&(n.selectedIndex++,t.filter=t.filters[i+1],t.fetchData())};t.fetchData();t.$on("OnAjaxError",function(n,i){t.isDisabled=!1;t.modalBody=i.msg;t.modalShown=!0})}]);flexiAppControllers.controller("SmsTopUpCtrl",["$rootScope","$scope",function(n,t){var f,u,e;n.pageTitle=n.lang.TOP_UP+" - "+n.lang.SMS_MODE;n.appIcon="icon-hand-coin";n.moreMenu="show-more-menu";var r=300,i=new Date,o=$("body");t.amount="";t.isDisabled=!1;t.status=n.lang.SENDING;t.selectedProduct=null;t.selectedAmount=0;t.selectedAmountName="";t.selectedPhone="";t.selectedAccount="";t.dragMode=!1;f=15;t.phoneList=[];t.accountList=[];u=[];t.pin="";t.showPin=!0;uplus.db.onReady(function(){uplus.db.Customers.orderByDescending("it.Total").take(f).toArray(function(n){u=n;t.phoneList=n})});t.$on("$locationChangeStart",function(i,u){var f=new Date-n.prevClick<r;if(n.prevLocation&&u===n.prevLocation&&!f)if(t.mode>1&&i.preventDefault(),t.mode==5)t.goBack();else{if(t.mode==6)return;t.goTo(t.mode-1)}});window.uplus.isPhoneGap()||(t.modalBody=n.lang.PHONEGAP_ONLY,t.modalShown=!0,t.isDisabled=!0);t.canShowReset=function(){return t.mode==1};t.reset=function(){t.mode==1&&(window.localStorage.removeItem("products"),t.products=window.products.slice())};t.goTo=function(n){t.mode=n;o.scrollTop(0)};t.preventReorder=function(n){n.preventDefault()};t.hasLastTrx=!1;t.cancel=function(){t.amount="";t.selectedAmount=0;t.selectedAmountName="";t.selectedProduct=null;t.selectedPhone="";t.selectedAccount="";t.mode=1;t.accountList=[];t.phoneList=u;var n=window.sessionStorage.getItem("lastTrx");t.hasLastTrx=n?!0:!1};t.useLastTrx=function(){var i=window.sessionStorage.getItem("lastTrx"),n=JSON.parse(i);t.selectedAmount=n.Amount;t.selectedProduct=n.Product;t.selectedPhone=n.Phone;t.selectedAccount=n.AccountNo;t.selectedAmountName=n.AmountName;t.goTo(5)};t.$on("$routeChangeStart",function(){typeof bluetoothSerial!="undefined"&&bluetoothSerial.isConnected(function(){bluetoothSerial.disconnect(function(){},function(){})},function(){})});t.$on("OnAjaxError",function(n,i){t.isDisabled=!1;t.mode===6?t.status=i.msg:(t.modalBody=i.msg,t.modalShown=!0)});t.editProductList=function(){t.dragMode=!t.dragMode};e=function(){var i=window.products.slice(),f=window.localStorage.getItem("products"),r,e,u,n;if(f){for(r=JSON.parse(f),n=0;n<r.length;n++)for(e=r[n],j=0;j<i.length;j++)if(u=i[j],u.id===e.id){u.idx=n;break}i.sort(function(n,t){return n.idx<t.idx?-1:n.idx>t.idx?1:0})}t.products=i};e();t.preventSwipe=function(n){n.preventDefault()};t.beforeWait=function(n){n.target.nodeName=="I"&&n.preventDefault()};t.reorder=function(n,i,r){var u=t.products[r];return t.products.splice(r,1),t.products.splice(i,0,u),window.localStorage.setItem("products",JSON.stringify(t.products)),!0};t.tapProduct=function(n){new Date-i<r||(i=new Date,t.selectedProduct=n,t.amounts=t.selectedProduct.amounts,t.goTo(2),setTimeout(function(){$("#airtime").focus()},300))};t.onClickAmount=function(n,f){isNaN(parseFloat(n))||new Date-i<r||(i=new Date,t.selectedProduct.id=="DiGi Bill"?(t.selectedAmount=parseInt(n),t.amount=parseInt(n)):t.selectedAmount=parseFloat(n),t.selectedAmountName=f,t.selectedPhone="",t.selectedAccount="",t.accountList=[],t.phoneList=u,t.mode=3,setTimeout(function(){$("#phone").focus()},300))};t.onEnterPhone=function(){if(t.selectedPhone&&t.selectedPhone.length>=10){if(new Date-i<r)return;if(i=new Date,t.selectedProduct.hasAccountNo){uplus.db.onReady(function(){uplus.db.Accounts.filter("it.Phone == pname",{pname:t.selectedPhone}).toArray(function(n){t.accountList=n;t.$apply()})});t.selectedAccount="";t.accountList=[];t.mode=4;setTimeout(function(){$("#account").focus()},300)}else t.mode=5,setTimeout(function(){$("#confirm").focus()},300)}};t.find=function(){if(t.selectedPhone&&t.selectedPhone.length>=4)uplus.db.onReady(function(){uplus.db.Customers.filter("it.Id.startsWith(pname)",{pname:t.selectedPhone}).take(f).toArray(function(n){t.phoneList=n;t.$apply()})});else t.phoneList=u};t.onClickPhone=function(n){t.selectedPhone=n.Id;t.onEnterPhone()};t.afterPhoneSwipe=function(n,i){var r=t.phoneList[i];t.phoneList.splice(i,1);uplus.db.onReady(function(){uplus.db.Customers.remove(r);uplus.db.saveChanges()})};t.onEnterAccountNo=function(){if(t.selectedAccount){if(new Date-i<r)return;i=new Date;t.mode=5;setTimeout(function(){$("#confirm").focus()},300)}};t.onClickAccount=function(n){t.selectedAccount=n.Name;t.onEnterAccountNo()};t.afterAccountSwipe=function(n,i){var r=t.accountList[i];t.accountList.splice(i,1);uplus.db.onReady(function(){uplus.db.Accounts.remove(r);uplus.db.saveChanges()})};t.goBack=function(){t.selectedProduct.hasAccountNo?t.mode=4:(t.mode=3,setTimeout(function(){$("#phone").focus()},300))};t.confirm=function(){new Date-i<r||(i=new Date,t.mode=6,t.showPin=!0)};t.submitPin=function(){t.pin&&(t.showPin=!1,t.process())};t.process=function(){var f,r,e;t.status=n.lang.SENDING;t.isDisabled=!0;var o={A:t.selectedAmount,P:t.selectedProduct.id,T:t.selectedPhone,C:t.selectedAccount,F:t.selectedAmountName,N:t.pin},i=t.selectedPhone,s=t.selectedProduct.hasAccountNo,u=t.selectedAccount;uplus.db.onReady(function(){uplus.db.Customers.filter("it.Id == pname",{pname:i}).toArray(function(n){if(n.length>0){var t=n[0];uplus.db.Customers.attach(t);t.Total++}else uplus.db.Customers.add({Id:i,Total:1});s?uplus.db.Accounts.filter("it.Phone == this.p1 && it.Name == this.p2",{p1:i,p2:u}).toArray(function(n){n.length===0&&(uplus.db.Accounts.add({Phone:i,Name:u}),uplus.db.saveChanges())}):uplus.db.saveChanges()})});if(f=function(){t.status=n.lang.SMS_SENT;t.isDisabled=!1;t.$apply();setTimeout(function(){$("#back").focus()},300)},r=function(n){t.status=n;t.isDisabled=!1;t.$apply();setTimeout(function(){$("#back").focus()},300)},window.sessionStorage.setItem("lastTrx",JSON.stringify({Amount:t.selectedAmount,Product:t.selectedProduct,Phone:t.selectedPhone,AccountNo:t.selectedAccount,AmountName:t.selectedAmountName})),e=JSON.stringify(o),typeof sms=="undefined"){r(n.lang.PHONEGAP_ONLY);return}sms.send("01138254134",e,window.uplus.getSmsConfig,f,r)};t.toPay=function(){if(t.selectedProduct)return t.selectedProduct.hasExtra?t.selectedAmount*n.extra:t.selectedAmount};t.print=function(){var u=[],r,i;t.selectedPhone&&(r=t.selectedPhone,t.selectedAccount&&r+" # "+t.selectedAccount,u.push(r));i=t.selectedProduct.name;t.selectedAmount.name&&(i=t.selectedAmount.name+i);window.uplus.print(n,t,i,u,t.selectedAmount)};t.cancel()}]);flexiAppControllers.controller("SmsCheckingCtrl",["$rootScope","$scope","notify",function(n,t,i){n.pageTitle=n.lang.CHECKING;n.appIcon="icon-bubble-ask-2";t.step="CS";window.uplus.isPhoneGap()||(t.modalBody=n.lang.PHONEGAP_ONLY,t.modalShown=!0);t.sendSms=function(r){t.modalShown=!1;t.isDisabled=!0;window.uplus.showLoading(n);var f=function(){i({message:n.lang.SMS_SENT});t.isDisabled=!1;window.uplus.hideLoading(n);t.phone=null;t.$apply()},u=function(i){t.modalBody=i;t.modalShown=!0;t.isDisabled=!1;window.uplus.hideLoading(n);t.$apply()};if(typeof sms=="undefined"){u(n.lang.PHONEGAP_ONLY);return}sms.send("01138254134",r,window.uplus.getSmsConfig,f,u)};t.checkBalance=function(){var n=JSON.stringify({O:"BAL"});t.sendSms(n)};t.checkStatus=function(){if(t.phone&&t.phone.length>=10){var n=JSON.stringify({O:"CUST",T:t.phone});t.sendSms(n)}};t.truncate=function(){t.phone=""};t.$on("OnAjaxError",function(n,i){t.isDisabled=!1;t.modalBody=i.msg;t.modalShown=!0})}]);flexiAppControllers.controller("SmsTransferCtrl",["$rootScope","$scope","notify",function(n,t,i){n.pageTitle=n.lang.TRANSFER;n.appIcon="icon-transfer-2";window.uplus.isPhoneGap()||(t.modalBody=n.lang.PHONEGAP_ONLY,t.modalShown=!0);t.sendSms=function(r){t.modalShown=!1;t.isDisabled=!0;window.uplus.showLoading(n);var f=function(){i({message:n.lang.SMS_SENT});t.isDisabled=!1;window.uplus.hideLoading(n);t.phone=null;t.amount=null;t.$apply()},u=function(i){t.modalBody=i;t.modalShown=!0;t.isDisabled=!1;window.uplus.hideLoading(n);t.$apply()};if(typeof sms=="undefined"){u(n.lang.PHONEGAP_ONLY);return}sms.send("01138254134",r,window.uplus.getSmsConfig,f,u)};t.transfer=function(){if(t.phone&&t.phone.length>=10&&t.amount&&t.amount>0){var n=JSON.stringify({O:"TRAN",T:t.phone,A:t.amount});t.sendSms(n)}};t.truncate=function(){t.phone=""};t.$on("OnAjaxError",function(n,i){t.isDisabled=!1;t.modalBody=i.msg;t.modalShown=!0})}]);flexiAppControllers.controller("TransferOrderCtrl",["$rootScope","$scope","$http","$location",function(n,t,i,r){n.pageTitle=n.lang.TRANSFER_ORDER;n.appIcon="icon-basket-1";n.moreMenu="show-more-menu";t.searchText="";t.canLoadMore=!1;var u=50;t.fetchData=function(){i.get("/api/SalesOrder").success(function(n,i){window.uplus.isSuccess(i)&&(t.list=n,t.canLoadMore=n.length>=u)});var n=window.sessionStorage.getItem("transferOrderText");n&&(t.searchText=n)};t.loadMore=function(){var n=t.list.length;i.get("/api/SalesOrder/"+n).success(function(n,i){window.uplus.isSuccess(i)&&(n.length<u&&(t.canLoadMore=!1),t.list=t.list.concat(n))})};t.onClick=function(n){t.searchText&&window.sessionStorage.setItem("transferOrderText",t.searchText);r.path("/transfer-airtime/"+n.Id)};t.fetchData();t.$on("OnAjaxError",function(n,i){t.isDisabled=!1;t.modalBody=i.msg;t.modalShown=!0})}]);flexiAppControllers.controller("TransferHistoryCtrl",["$rootScope","$scope","$http","$location","CacheSvc","$filter",function(n,t,i,r,u,f){var e,o,s;n.pageTitle=n.lang.TRANSFER_HISTORY;n.appIcon="icon-receipt-1";n.moreMenu="show-more-menu";e=null;t.$on("$destroy",function(){e&&e.destroy()});o="/api/TransferHistory";t.canLoadMore=!1;s=50;t.fetchData=function(){u.get(o).then(function(n){t.list=n;t.canLoadMore=n.length>=s})};t.loadMore=function(){var n=t.list.length;i.get(o+"/"+n).success(function(n,i){window.uplus.isSuccess(i)&&(n.length<s&&(t.canLoadMore=!1),t.list=t.list.concat(n),u.update(o,t.list))})};t.refreshData=function(){u.remove(o);t.fetchData()};t.onClick=function(n){i.get("/api/TransferAirtime/"+n.Id).success(function(n,i){window.uplus.isSuccess(i)&&(t.current=n,t.paneShown=!0,$("#flyout > div").scrollTop(0),e?e._reset():e=window.uplus.pinchZoom("currentPhoto"))})};t.isPhoneGap=window.uplus.isPhoneGap();t.exportCsv=function(){for(var n,o,i,h,u,e=t.list,s="Status,Dealer,Amount,Bank,Date\r\n",r=0;r<e.length;r++){n="";for(i in e[r]){if(i.substring(0,1)=="$"||i=="Id")break;n!=""&&(n+=",");o=e[r][i];n+=i=="CreatedOn"?f("date")(o,"d-M-yyyy @ h:mm a"):o}s+=n+"\r\n"}h="data:text/csv;charset=utf-8,"+escape(s);u=document.getElementById("dllink");u.setAttribute("href",h);u.setAttribute("download","data.csv");u.click()};t.fetchData();t.$on("OnAjaxError",function(n,i){t.modalBody=i.msg;t.modalShown=!0})}]);flexiAppControllers.controller("TransferAirtimeCtrl",["$rootScope","$scope","$http","$routeParams","$location","CacheSvc",function(n,t,i,r,u,f){n.pageTitle=n.lang.TRANSFER;n.appIcon="icon-transfer-2";t.step=-1;t.ccl={};var e=null,o=null;t.$on("$destroy",function(){o&&o.destroy()});t.showPhoto=function(){t.step=1;o?o._reset():o=window.uplus.pinchZoom("currentPhoto");t.paneShown=!0};t.fetchData=function(){i.get("/api/TransferAirtime/"+e).success(function(i,r){window.uplus.isSuccess(r)&&(t.current=i,i.ListItem&&t.members&&t.members.push({Id:i.FromDealer,Name:i.ListItem,Code:i.ListCode}),t.updatePhone(),n.moreMenu="show-more-menu")})};t.updatePhone=function(){var n,i;if(t.current&&t.current.FromDealer&&t.members)for(n=0;n<t.members.length;n++)if(i=t.members[n],i.Id===t.current.FromDealer){t.phone=i.Code;break}};t.cancel=function(){e?(t.step=-1,t.ccl.Remark="",t.paneShown=!0,$("#flyout > div").scrollTop(0)):t.current={}};t.delete=function(){confirm(n.lang.CONFIRM_DELETE)&&(t.isDisabled=!0,i.delete("/api/TransferAirtime/"+e+"?lng="+n.currentLanguage).success(function(n,i){window.uplus.isSuccess(i)&&(t.isDisabled=!1,u.path("/transfer-order"))}))};t.submitForm2=function(){t.modalShown=!1;t.isDisabled=!0;i.put("/api/TransferAirtime/"+e+"?lng="+n.currentLanguage,{Remark:t.ccl.Remark}).success(function(n,i){window.uplus.isSuccess(i)&&(t.paneShown=!1,t.isDisabled=!1,f.remove("/api/TransferHistory"),u.path("/transfer-history"))})};t.submitForm=function(){t.modalShown=!1;t.isDisabled=!0;e?i.post("/api/TransferAirtime/"+e+"?lng="+n.currentLanguage,t.current).success(function(i,r){window.uplus.isSuccess(r)&&(t.isDisabled=!1,n.getBalance(),u.path("/transfer-order"))}):i.post("/api/TransferAirtime?lng="+n.currentLanguage,t.current).success(function(i,r){window.uplus.isSuccess(r)&&(t.isDisabled=!1,n.getBalance(),f.remove("/api/TransferHistory"),u.path("/transfer-history"))})};f.get("/api/TransferTo").then(function(n){t.members=n;t.current&&t.current.ListItem&&t.members.push({Id:n.FromDealer,Name:n.ListItem,Code:n.ListCode});t.updatePhone()});r.id&&r.id.substring(0,3)!=="to:"?(e=r.id,t.fetchData()):r.id?(t.current={FromDealer:r.id.substring(3)},t.updatePhone()):t.current={};t.$on("OnAjaxError",function(n,i){t.isDisabled=!1;t.modalBody=i.msg;t.modalShown=!0})}]);flexiAppControllers.controller("MemberCtrl",["$rootScope","$scope","$http","$location","CacheSvc",function(n,t,i,r,u){n.pageTitle=n.lang.DEALER;n.appIcon="icon-connection-2";var f="/api/Member";n.moreMenu="show-more-menu";t.fetchData=function(){u.get(f).then(function(n){t.list=n})};t.add=function(){r.path("/new-member")};t.onClick=function(n){r.path("/edit-member/"+n.Id)};t.refreshData=function(){u.remove(f);t.fetchData()};t.fetchData();t.$on("OnAjaxError",function(n,i){t.modalBody=i.msg;t.modalShown=!0})}]);flexiAppControllers.controller("NewMemberCtrl",["$rootScope","$scope","$http","$location","CacheSvc",function(n,t,i,r,u){n.pageTitle=n.lang.NEW+" "+n.lang.DEALER;n.appIcon="icon-connection-2";t.current={};var f="/api/Member";t.submitForm=function(e){e.$valid&&(t.modalShown=!1,t.isDisabled=!0,i.post(f+"?lng="+n.currentLanguage,t.current).success(function(i,e){window.uplus.isSuccess(e)&&(t.isDisabled=!1,u.insert(f,i),n.getBalance(),confirm(n.lang.CONFIRM_TRANSFER)?(u.remove("/api/TransferTo"),r.path("/transfer-airtime/to:"+i.Id)):r.path("/member"))}))};u.get("/api/RebatePlan").then(function(n){t.plans=n});t.truncate=function(){t.current.Code=""};t.blur=function(){t.current.UserName||(t.current.UserName=t.current.Name)};t.$on("OnAjaxError",function(n,i){t.isDisabled=!1;t.modalBody=i.msg;t.modalShown=!0})}]);flexiAppControllers.controller("EditMemberCtrl",["$rootScope","$scope","$http","$location","$routeParams","CacheSvc","notify",function(n,t,i,r,u,f,e){n.pageTitle=n.lang.EDIT+" "+n.lang.DEALER;n.appIcon="icon-connection-2";var o="/api/Member/",s="/api/Member";t.fetchData=function(){i.get(o+u.id).success(function(n,i){window.uplus.isSuccess(i)&&(t.current=n)})};f.get("/api/RebatePlan").then(function(n){t.plans=n});t.submitForm=function(r){r.$valid&&(t.modalShown=!1,t.isDisabled=!0,i.put(o+u.id+"?lng="+n.currentLanguage,t.current).success(function(i,r){window.uplus.isSuccess(r)&&(f.remove(s),t.isDisabled=!1,e({message:n.lang.SAVED}))}))};t.goToLock=function(){r.path("/remote-key/"+u.id)};t.truncate=function(){t.current.Code=""};t.fetchData();t.$on("OnAjaxError",function(n,i){t.isDisabled=!1;t.modalBody=i.msg;t.modalShown=!0})}]);flexiAppControllers.controller("RebatePlanCtrl",["$rootScope","$scope","$http","$location","CacheSvc",function(n,t,i,r,u){n.pageTitle=n.lang.REBATE_PLAN;n.appIcon="icon-percent-4";var f="/api/RebatePlan";n.moreMenu="show-more-menu";t.fetchData=function(){u.get(f).then(function(n){t.list=n})};t.onClick=function(n){r.path("/edit-rebate-plan/"+n.Id)};t.refreshData=function(){u.remove(f);t.fetchData()};t.fetchData();t.$on("OnAjaxError",function(n,i){t.modalBody=i.msg;t.modalShown=!0})}]);flexiAppControllers.controller("EditRebatePlanCtrl",["$rootScope","$scope","$http","$location","$routeParams","CacheSvc","notify",function(n,t,i,r,u){n.pageTitle=n.lang.REBATE_PLAN;n.appIcon="icon-percent-4";var f="/api/RebatePlan/";t.editMode=!0;t.current={};t.fetchData=function(){i.get(f+u.id).success(function(n,i){window.uplus.isSuccess(i)&&(t.current=n)})};t.fetchData();t.$on("OnAjaxError",function(n,i){t.isDisabled=!1;t.modalBody=i.msg;t.modalShown=!0})}]);flexiAppControllers.controller("MemberWeeklyTrendCtrl",["$rootScope","$scope","CacheSvc","$http",function(n,t,i,r){for(var f=Date.today().addWeeks(-12).moveToDayOfWeek(0,-1),e=Date.today(),o=[],u=f.clone(),s;u<=e;)o.push(u.clone()),u=u.addWeeks(1);n.pageTitle=n.lang.WEEKLY_TREND+" "+f.toString("d/M")+" - "+e.toString("d/M/yyyy");n.appIcon="icon-business-chart-2";t.isDisabled=!1;t.step=1;t.sourceId="-999";s=function(n){for(var f,t,r=!1,u,i=0;i<o.length;i++){for(u=o[i],r=!1,t=0;t<n.Data.length;t++)if(n.Data[t].Week&&u.getTime()==new Date(n.Data[t].Week).clearTime().getTime()){r=!0;break}r||n.Data.splice(i+1,0,{Week:u.clone(),Amount:0})}for(f=[],t=0;t<n.Data.length;t++)n.Data[t].Week&&f.push(n.Data[t].Amount);n.Nums=f};t.fetchData=function(){t.isDisabled=!0;var n="/api/MemberWeeklyTrend?f="+f.toString("dd-MM-yyyy")+"&t="+e.toString("dd-MM-yyyy")+"&sourceId="+t.sourceId+"&mode="+t.step;r.get(n).success(function(n,i){if(window.uplus.isSuccess(i)){for(var r=0;r<n.length;r++)s(n[r]);t.list=n;t.isDisabled=!1}})};t.onClick=function(n){t.current=n;t.paneShown=!0;$("#flyout > div").scrollTop(0)};t.changeStep=function(n){t.step!=n&&(t.step=n,t.fetchData())};i.get("/api/MyMember").then(function(i){i.splice(0,0,{Id:"-999",Name:n.lang.ALL_MEMBERS});t.members=i});t.fetchData();t.$on("OnAjaxError",function(n,i){t.isDisabled=!1;t.modalBody=i.msg;t.modalShown=!0})}]);flexiAppControllers.controller("MemberTopupSummaryCtrl",["$rootScope","$scope","CacheSvc","$http",function(n,t,i,r){n.pageTitle=n.lang.TOPUP_SUMMARY;n.appIcon="icon-business-chart-2";t.isDisabled=!1;t.filters=window.uplus.getDatesOnly(90);t.fromDate=t.filters[1];t.toDate=t.filters[1];t.sourceId="-999";t.fetchData=function(){t.isDisabled=!0;var n="/api/MemberTopUpSummary?f="+t.fromDate.id+"&t="+t.toDate.id+"&sourceId="+t.sourceId;r.get(n).success(function(n,i){window.uplus.isSuccess(i)&&(t.list=n,t.isDisabled=!1)})};i.get("/api/MyMember").then(function(i){i.splice(0,0,{Id:"-999",Name:n.lang.ALL_MEMBERS});t.members=i});t.fetchData();t.$on("OnAjaxError",function(n,i){t.isDisabled=!1;t.modalBody=i.msg;t.modalShown=!0})}]);flexiAppControllers.controller("MemberStatusCtrl",["$rootScope","$scope","CacheSvc","$http",function(n,t,i,r){n.pageTitle=n.lang.STATUS;n.appIcon="icon-star-5";n.moreMenu="show-more-menu";t.canLoadMore=!1;t.isDisabled=!1;t.isFindMode=!1;t.sourceId=null;t.filters=window.uplus.getDates(90,n);t.filter=t.filters[0];var u=50;t.fetchData=function(){t.isDisabled=!0;var n="/api/MemberStatus";t.filter&&(n+="/"+t.filter.id);n+="?sourceId="+t.sourceId;r.get(n).success(function(n,i){window.uplus.isSuccess(i)&&(t.list=n,t.isDisabled=!1,t.canLoadMore=n.length>=u)})};t.loadMore=function(){var i=t.list[t.list.length-1].Id,n="/api/MemberStatus";t.filter&&(n+="/"+t.filter.id);n+="?sourceId="+t.sourceId;r.get(n+"&q="+i).success(function(n,i){window.uplus.isSuccess(i)&&(n.length<u&&(t.canLoadMore=!1),t.list=t.list.concat(n))})};t.onChange=function(){t.fetchData()};t.next=function(){var n=document.getElementById("dateFilter"),i=n.selectedIndex;i!==0&&(n.selectedIndex--,t.filter=t.filters[i-1],t.fetchData())};t.previous=function(){var n=document.getElementById("dateFilter"),i=n.selectedIndex;i!==t.filters.length-1&&(n.selectedIndex++,t.filter=t.filters[i+1],t.fetchData())};t.onClick=function(n){r.get("/api/TopUp/"+n.Id).success(function(n,i){window.uplus.isSuccess(i)&&(t.current=n,t.paneShown=!0,$("#flyout > div").scrollTop(0))})};t.find=function(){t.isFindMode?(t.isFindMode=!1,t.findText="",t.fetchData()):(t.isFindMode=!0,setTimeout(function(){$("#phone").focus()},300))};t.onFind=function(){t.findText&&r.put("/api/MemberStatus/"+t.findText+"?sourceId="+t.sourceId).success(function(n,i){window.uplus.isSuccess(i)&&(n.length<u&&(t.canLoadMore=!1),t.list=n)})};i.get("/api/MyMember").then(function(n){t.members=n;n.length>0&&(t.sourceId=n[0].Id);t.fetchData()});t.$on("OnAjaxError",function(n,i){t.isDisabled=!1;t.modalBody=i.msg;t.modalShown=!0})}]);flexiAppControllers.controller("MemberGrowthCtrl",["$rootScope","$scope","$http","CacheSvc",function(n,t,i,r){n.pageTitle=n.lang.MEMBER_GROWTH;n.appIcon="icon-business-chart-2";n.moreMenu="show-more-menu";var u="/api/MemberGrowth";t.fetchData=function(){r.get(u).then(function(n){t.list=n})};t.refreshData=function(){r.remove(u);t.fetchData()};t.fetchData();t.$on("OnAjaxError",function(n,i){t.modalBody=i.msg;t.modalShown=!0})}]),function(n,t){typeof define=="function"&&define.amd?define([],function(){return n.SignaturePad=t()}):typeof exports=="object"||(n.SignaturePad=t())}(this,function(){return function(n){"use strict";var t=function(n,t){var i=this,r=t||{};this.velocityFilterWeight=r.velocityFilterWeight||.7;this.minWidth=r.minWidth||.5;this.maxWidth=r.maxWidth||2.5;this.dotSize=r.dotSize||function(){return(this.minWidth+this.maxWidth)/2};this.penColor=r.penColor||"black";this.backgroundColor=r.backgroundColor||"rgba(0,0,0,0)";this.onEnd=r.onEnd;this.onBegin=r.onBegin;this._canvas=n;this._ctx=n.getContext("2d");this.clear();this._handleMouseDown=function(n){n.which===1&&(i._mouseButtonDown=!0,i._strokeBegin(n))};this._handleMouseMove=function(n){i._mouseButtonDown&&i._strokeUpdate(n)};this._handleMouseUp=function(n){n.which===1&&i._mouseButtonDown&&(i._mouseButtonDown=!1,i._strokeEnd(n))};this._handleTouchStart=function(n){var t=n.changedTouches[0];i._strokeBegin(t)};this._handleTouchMove=function(n){n.preventDefault();var t=n.changedTouches[0];i._strokeUpdate(t)};this._handleTouchEnd=function(n){var t=n.target===i._canvas;t&&i._strokeEnd(n)};this._handleMouseEvents();this._handleTouchEvents()},i,r;return t.prototype.clear=function(){var t=this._ctx,n=this._canvas;t.fillStyle=this.backgroundColor;t.clearRect(0,0,n.width,n.height);t.fillRect(0,0,n.width,n.height);this._reset()},t.prototype.toDataURL=function(){var n=this._canvas;return n.toDataURL.apply(n,arguments)},t.prototype.fromDataURL=function(n){var r=this,t=new Image,i=window.devicePixelRatio||1,u=this._canvas.width/i,f=this._canvas.height/i;this._reset();t.src=n;t.onload=function(){r._ctx.drawImage(t,0,0,u,f)};this._isEmpty=!1},t.prototype._strokeUpdate=function(n){var t=this._createPoint(n);this._addPoint(t)},t.prototype._strokeBegin=function(n){if(this._reset(),this._strokeUpdate(n),typeof this.onBegin=="function")this.onBegin(n)},t.prototype._strokeDraw=function(n){var t=this._ctx,i=typeof this.dotSize=="function"?this.dotSize():this.dotSize;t.beginPath();this._drawPoint(n.x,n.y,i);t.closePath();t.fill()},t.prototype._strokeEnd=function(n){var i=this.points.length>2,t=this.points[0];if(!i&&t&&this._strokeDraw(t),typeof this.onEnd=="function")this.onEnd(n)},t.prototype._handleMouseEvents=function(){var t=this;this._mouseButtonDown=!1;this._canvas.addEventListener("mousedown",this._handleMouseDown);this._canvas.addEventListener("mousemove",this._handleMouseMove);n.addEventListener("mouseup",this._handleMouseUp)},t.prototype._handleTouchEvents=function(){var t=this;this._canvas.style.msTouchAction="none";this._canvas.addEventListener("touchstart",this._handleTouchStart);this._canvas.addEventListener("touchmove",this._handleTouchMove);n.addEventListener("touchend",this._handleTouchEnd)},t.prototype.off=function(){this._canvas.removeEventListener("mousedown",this._handleMouseDown);this._canvas.removeEventListener("mousemove",this._handleMouseMove);n.removeEventListener("mouseup",this._handleMouseUp);this._canvas.removeEventListener("touchstart",this._handleTouchStart);this._canvas.removeEventListener("touchmove",this._handleTouchMove);n.removeEventListener("touchend",this._handleTouchEnd)},t.prototype.isEmpty=function(){return this._isEmpty},t.prototype._reset=function(){this.points=[];this._lastVelocity=0;this._lastWidth=(this.minWidth+this.maxWidth)/2;this._isEmpty=!0;this._ctx.fillStyle=this.penColor},t.prototype._createPoint=function(n){var t=this._canvas.getBoundingClientRect();return new i(n.clientX-t.left,n.clientY-t.top)},t.prototype._addPoint=function(n){var t=this.points,u,f,e,i;t.push(n);t.length>2&&(t.length===3&&t.unshift(t[0]),i=this._calculateCurveControlPoints(t[0],t[1],t[2]),u=i.c2,i=this._calculateCurveControlPoints(t[1],t[2],t[3]),f=i.c1,e=new r(t[1],u,f,t[2]),this._addCurve(e),t.shift())},t.prototype._calculateCurveControlPoints=function(n,t,r){var e=n.x-t.x,o=n.y-t.y,s=t.x-r.x,h=t.y-r.y,f={x:(n.x+t.x)/2,y:(n.y+t.y)/2},u={x:(t.x+r.x)/2,y:(t.y+r.y)/2},p=Math.sqrt(e*e+o*o),c=Math.sqrt(s*s+h*h),w=f.x-u.x,b=f.y-u.y,l=c/(p+c),a={x:u.x+w*l,y:u.y+b*l},v=t.x-a.x,y=t.y-a.y;return{c1:new i(f.x+v,f.y+y),c2:new i(u.x+v,u.y+y)}},t.prototype._addCurve=function(n){var r=n.startPoint,u=n.endPoint,t,i;t=u.velocityFrom(r);t=this.velocityFilterWeight*t+(1-this.velocityFilterWeight)*this._lastVelocity;i=this._strokeWidth(t);this._drawCurve(n,this._lastWidth,i);this._lastVelocity=t;this._lastWidth=i},t.prototype._drawPoint=function(n,t,i){var r=this._ctx;r.moveTo(n,t);r.arc(n,t,i,0,2*Math.PI,!1);this._isEmpty=!1},t.prototype._drawCurve=function(n,t,i){var l=this._ctx,p=i-t,a,y,o,r,s,h,u,c,v,f,e;for(a=Math.floor(n.length()),l.beginPath(),o=0;o<a;o++)r=o/a,s=r*r,h=s*r,u=1-r,c=u*u,v=c*u,f=v*n.startPoint.x,f+=3*c*r*n.control1.x,f+=3*u*s*n.control2.x,f+=h*n.endPoint.x,e=v*n.startPoint.y,e+=3*c*r*n.control1.y,e+=3*u*s*n.control2.y,e+=h*n.endPoint.y,y=t+h*p,this._drawPoint(f,e,y);l.closePath();l.fill()},t.prototype._strokeWidth=function(n){return Math.max(this.maxWidth/(n+1),this.minWidth)},i=function(n,t,i){this.x=n;this.y=t;this.time=i||(new Date).getTime()},i.prototype.velocityFrom=function(n){return this.time!==n.time?this.distanceTo(n)/(this.time-n.time):1},i.prototype.distanceTo=function(n){return Math.sqrt(Math.pow(this.x-n.x,2)+Math.pow(this.y-n.y,2))},r=function(n,t,i,r){this.startPoint=n;this.control1=t;this.control2=i;this.endPoint=r},r.prototype.length=function(){for(var e=10,o=0,t,i,r,s,h,u,f,n=0;n<=e;n++)t=n/e,i=this._point(t,this.startPoint.x,this.control1.x,this.control2.x,this.endPoint.x),r=this._point(t,this.startPoint.y,this.control1.y,this.control2.y,this.endPoint.y),n>0&&(u=i-s,f=r-h,o+=Math.sqrt(u*u+f*f)),s=i,h=r;return o},r.prototype._point=function(n,t,i,r,u){return t*(1-n)*(1-n)*(1-n)+3*i*(1-n)*(1-n)*n+3*r*(1-n)*n*n+u*n*n*n},t}(document)});flexiAppControllers.controller("TenderNumbersCtrl",["$rootScope","$scope","$http","$location","CacheSvc",function(n,t,i,r,u){n.pageTitle=n.lang.TENDER_NUMBER;n.appIcon="icon-shop";n.moreMenu="show-more-menu";var f="/api/TenderNumber";window.localStorage.setItem("HasVisitedTenderNumber","true");t.fetchData=function(){u.get(f).then(function(n){t.list=n})};t.getPriceType=function(t){return t.IsNegotiable?n.lang.NEGOTIABLE:n.lang.FIXED_PRICE};t.onClick=function(n){r.path("/booking/"+n.Id)};t.refreshData=function(){u.remove(f);t.fetchData()};t.fetchData();t.$on("OnAjaxError",function(n,i){t.isDisabled=!1;t.modalBody=i.msg;t.modalShown=!0})}]);flexiAppControllers.controller("HowItWorksCtrl",["$rootScope","$scope","$http","$location","CacheSvc",function(n,t){n.pageTitle=n.lang.HOW_IT_WORKS;n.appIcon="icon-shop";n.moreMenu="";var i=null;t.$on("$destroy",function(){i&&i.destroy()});setTimeout(function(){i=window.uplus.pinchZoom("currentPhoto",!0)},0);t.$on("OnAjaxError",function(n,i){t.isDisabled=!1;t.modalBody=i.msg;t.modalShown=!0})}]);flexiAppControllers.controller("BookingCtrl",["$rootScope","$scope","$http","$location","$routeParams","notify",function(n,t,i,r,u,f){n.pageTitle=n.lang.BOOKING;n.appIcon="icon-shop";n.moreMenu="";var e="/api/TenderNumber/";t.fetchData=function(){i.get(e+u.id).success(function(n,i){window.uplus.isSuccess(i)&&(n.OfferPrice=n.Amount,t.current=n)})};t.getPriceType=function(t){return t?t.IsNegotiable?n.lang.NEGOTIABLE:n.lang.FIXED_PRICE:""};t.submitForm=function(o){o.$valid&&confirm(n.lang.ARE_YOU_SURE)&&(t.modalShown=!1,t.isDisabled=!0,i.post(e+u.id,t.current).success(function(i,u){window.uplus.isSuccess(u)&&(t.isDisabled=!1,f({message:n.lang.SAVED}),r.path("/helpline"))}))};t.fetchData();t.$on("OnAjaxError",function(n,i){t.isDisabled=!1;t.modalBody=i.msg;t.modalShown=!0})}]);flexiAppControllers.controller("TenderOrdersCtrl",["$rootScope","$scope","$http","$location","CacheSvc",function(n,t,i,r,u){n.pageTitle="Tender Orders";n.appIcon="icon-shop";n.moreMenu="show-more-menu";var f="/api/TenderOrder";t.fetchData=function(){u.get(f).then(function(n){t.list=n})};t.onClick=function(n){r.path("/tender-order/"+n.Id)};t.refreshData=function(){u.remove(f);t.fetchData()};t.fetchData();t.$on("OnAjaxError",function(n,i){t.isDisabled=!1;t.modalBody=i.msg;t.modalShown=!0})}]);flexiAppControllers.controller("TenderOrderCtrl",["$rootScope","$scope","$http","$location","$routeParams","notify",function(n,t,i,r,u,f){function c(){var n=Math.max(window.devicePixelRatio||1,1);e.width=e.offsetWidth*n;e.height=e.offsetHeight*n;e.getContext("2d").scale(n,n)}var h,e,s,o;n.pageTitle="Tender Order";n.appIcon="icon-shop";n.moreMenu="";h="/api/TenderOrder/";t.showLightbox=!1;t.fetchData=function(){i.get(h+u.id).success(function(n,i){window.uplus.isSuccess(i)&&(t.current=n,n.Sign&&s.fromDataURL(n.Sign))})};e=document.getElementById("sign-pad");s=new SignaturePad(e);t.$on("$routeChangeStart",function(){s&&s.off()});o=null;t.$on("$destroy",function(){o&&o.destroy()});t.showPhoto=function(){o?o._reset():o=window.uplus.pinchZoom("currentPhoto");t.paneShown=!0};t.submitForm=function(){t.modalShown=!1;t.isDisabled=!0;i.post(h+u.id,t.current).success(function(i,r){window.uplus.isSuccess(r)&&(t.isDisabled=!1,f({message:n.lang.SAVED}),t.current=i)})};t.fetchData();c();t.$on("OnAjaxError",function(n,i){t.isDisabled=!1;t.modalBody=i.msg;t.modalShown=!0})}]);flexiAppControllers.controller("TenderCancelCtrl",["$rootScope","$scope","$http","$location","$routeParams","notify",function(n,t,i,r,u,f){n.pageTitle=n.lang.CANCEL;n.appIcon="icon-shop";n.moreMenu="";var e="/api/TenderNumber/";t.fetchData=function(){i.get(e+u.id+"?q=1").success(function(n,i){window.uplus.isSuccess(i)&&(t.current=n)})};t.getPriceType=function(t){return t?t.IsNegotiable?n.lang.NEGOTIABLE:n.lang.FIXED_PRICE:""};t.submitForm=function(o){o.$valid&&confirm(n.lang.ARE_YOU_SURE)&&(t.modalShown=!1,t.isDisabled=!0,i.delete(e+u.id).success(function(i,u){window.uplus.isSuccess(u)&&(t.isDisabled=!1,f({message:n.lang.SAVED}),r.path("/helpline"))}))};t.fetchData();t.$on("OnAjaxError",function(n,i){t.isDisabled=!1;t.modalBody=i.msg;t.modalShown=!0})}]);flexiAppControllers.controller("TenderInfoCtrl",["$rootScope","$scope","$http","$location","$routeParams","notify",function(n,t,i,r,u,f){function a(){var n=Math.max(window.devicePixelRatio||1,1);e.width=e.offsetWidth*n;e.height=e.offsetHeight*n;e.getContext("2d").scale(n,n)}function c(n){t.current.Photo="data:image/jpg;base64,"+n;t.$apply()}function l(n){t.modalBody=n;t.modalShown=!0;t.$apply()}var h,e,o,s;n.pageTitle=n.lang.ORDER_INFO;n.appIcon="icon-shop";n.moreMenu="";h="/api/TenderNumber/";t.isPhoneGap=window.uplus.isPhoneGap();t.showLightbox=!1;t.fetchData=function(){i.get(h+u.id+"?q=1").success(function(n,i){window.uplus.isSuccess(i)&&(t.current=n,n.Sign&&o.fromDataURL(n.Sign))})};e=document.getElementById("sign-pad");o=new SignaturePad(e);t.onClear=function(){o.clear()};t.$on("$routeChangeStart",function(){o&&o.off()});s=null;t.$on("$destroy",function(){s&&s.destroy()});t.showPhoto=function(){s?s._reset():s=window.uplus.pinchZoom("currentPhoto");t.paneShown=!0};t.pickPhoto=function(){navigator.camera.getPicture(c,l,{quality:80,destinationType:Camera.DestinationType.DATA_URL,sourceType:Camera.PictureSourceType.PHOTOLIBRARY,allowEdit:!1,encodingType:Camera.EncodingType.JPEG,targetWidth:1e3,targetHeight:1e3})};t.takePhoto=function(){navigator.camera.getPicture(c,l,{quality:80,destinationType:Camera.DestinationType.DATA_URL,sourceType:Camera.PictureSourceType.CAMERA,allowEdit:!1,encodingType:Camera.EncodingType.JPEG,targetWidth:1e3,targetHeight:1e3})};t.submitForm=function(e){e.$valid&&(t.modalShown=!1,t.isDisabled=!0,t.current.Sign=o.toDataURL(),i.put(h+u.id,t.current).success(function(i,u){window.uplus.isSuccess(u)&&(t.isDisabled=!1,f({message:n.lang.SAVED}),r.path("/helpline"))}))};t.fetchData();a();t.$on("OnAjaxError",function(n,i){t.isDisabled=!1;t.modalBody=i.msg;t.modalShown=!0})}]);